!function (e,t) { "object" === typeof exports && "object" === typeof module ? module.exports = t() : "function" === typeof define && define.amd ? define([],t) : "object" === typeof exports ? exports.PingOneAuth = t() : e.PingOneAuth = t(); }(global,(function () { return function (e) { var t = {}; function r (n) { if (t[n]) { return t[n].exports; } var o = t[n] = {i: n,l: !1,exports: {}}; return e[n].call(o.exports,o,o.exports,r),o.l = !0,o.exports; } return r.m = e,r.c = t,r.d = function (e,t,n) { r.o(e,t) || Object.defineProperty(e,t,{enumerable: !0,get: n}); },r.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e,Symbol.toStringTag,{value: "Module"}),Object.defineProperty(e,"__esModule",{value: !0}); },r.t = function (e,t) { if (1 & t && (e = r(e)),8 & t) { return e; } if (4 & t && "object" === typeof e && e && e.__esModule) { return e; } var n = Object.create(null); if (r.r(n),Object.defineProperty(n,"default",{enumerable: !0,value: e}),2 & t && "string" !== typeof e) { for (var o in e) { r.d(n,o,function (t) { return e[t]; }.bind(null,o)); } } return n; },r.n = function (e) { var t = e && e.__esModule ? function () { return e.default; } : function () { return e; }; return r.d(t,"a",t),t; },r.o = function (e,t) { return Object.prototype.hasOwnProperty.call(e,t); },r.p = "",r(r.s = 49); }([function (e,t,r) { "use strict"; var n = r(20),o = Object.prototype.toString; function i (e) { return "[object Array]" === o.call(e); } function s (e) { return void 0 === e; } function a (e) { return null !== e && "object" === typeof e; } function u (e) { return "[object Function]" === o.call(e); } function c (e,t) { if (null != e) { if ("object" !== typeof e && (e = [e]),i(e)) { for (var r = 0,n = e.length; r < n; r++) { t.call(null,e[r],r,e); } } else { for (var o in e) { Object.prototype.hasOwnProperty.call(e,o) && t.call(null,e[o],o,e); } } } }e.exports = {isArray: i,isArrayBuffer: function (e) { return "[object ArrayBuffer]" === o.call(e); },isBuffer: function (e) { return null !== e && !s(e) && null !== e.constructor && !s(e.constructor) && "function" === typeof e.constructor.isBuffer && e.constructor.isBuffer(e); },isFormData: function (e) { return "undefined" !== typeof FormData && e instanceof FormData; },isArrayBufferView: function (e) { return "undefined" !== typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer; },isString: function (e) { return "string" === typeof e; },isNumber: function (e) { return "number" === typeof e; },isObject: a,isUndefined: s,isDate: function (e) { return "[object Date]" === o.call(e); },isFile: function (e) { return "[object File]" === o.call(e); },isBlob: function (e) { return "[object Blob]" === o.call(e); },isFunction: u,isStream: function (e) { return a(e) && u(e.pipe); },isURLSearchParams: function (e) { return "undefined" !== typeof URLSearchParams && e instanceof URLSearchParams; },isStandardBrowserEnv: function () { return ("undefined" === typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && ("undefined" !== typeof window && "undefined" !== typeof document); },forEach: c,merge: function e () { var t = {}; function r (r,n) { "object" === typeof t[n] && "object" === typeof r ? t[n] = e(t[n],r) : t[n] = r; } for (var n = 0,o = arguments.length; n < o; n++) { c(arguments[n],r); } return t; },deepMerge: function e () { var t = {}; function r (r,n) { "object" === typeof t[n] && "object" === typeof r ? t[n] = e(t[n],r) : t[n] = "object" === typeof r ? e({},r) : r; } for (var n = 0,o = arguments.length; n < o; n++) { c(arguments[n],r); } return t; },extend: function (e,t,r) { return c(t,(function (t,o) { e[o] = r && "function" === typeof t ? n(t,r) : t; })),e; },trim: function (e) { return e.replace(/^\s*/,"").replace(/\s*$/,""); }}; },function (e,t) { e.exports = require("util"); },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.JwksClient = void 0; var n = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) { Object.prototype.hasOwnProperty.call(r,n) && (e[n] = r[n]); } } return e; },o = function () { function e (e,t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1,n.configurable = !0,"value" in n && (n.writable = !0),Object.defineProperty(e,n.key,n); } } return function (t,r,n) { return r && e(t.prototype,r),n && e(t,n),t; }; }(),i = l(r(8)),s = l(r(60)),a = l(r(30)),u = l(r(31)),c = r(84),f = r(85); function l (e) { return e && e.__esModule ? e : {default: e}; }t.JwksClient = function () { function e (t) { var r = this; !function (e,t) { if (!(e instanceof t)) { throw new TypeError("Cannot call a class as a function"); } }(this,e),this.getSigningKey = function (e,t) { r.logger(`Fetching signing key for '${e}'`),r.getSigningKeys((function (n,o) { if (n) { return t(n); } var i = null != e; if (!i && o.length > 1) { return r.logger("No KID specified and JWKS endpoint returned more than 1 key"),t(new u.default("No KID specified and JWKS endpoint returned more than 1 key")); } var s = o.find((function (t) { return !i || t.kid === e; })); return s ? t(null,s) : (r.logger(`Unable to find a signing key that matches '${e}'`),t(new u.default(`Unable to find a signing key that matches '${e}'`))); })); },this.options = n({rateLimit: !1,cache: !0,timeout: 3e4},t),this.logger = (0,i.default)("jwks"),this.options.rateLimit && (this.getSigningKey = (0,f.rateLimitSigningKey)(this,t)),this.options.cache && (this.getSigningKey = (0,f.cacheSigningKey)(this,t)); } return o(e,[{key: "getKeys",value: function (e) { var t = this; this.logger(`Fetching keys from '${this.options.jwksUri}'`),(0,s.default)({uri: this.options.jwksUri,strictSSL: this.options.strictSsl,headers: this.options.requestHeaders,agentOptions: this.options.requestAgentOptions,proxy: this.options.proxy,timeout: this.options.timeout},(function (r,n) { if (r) { var o = r.response; return t.logger("Failure:",o && o.data || r),e(o ? new a.default(o.data || o.statusText || `Http Error ${o.status}`) : r); } return t.logger("Keys:",n.data.keys),e(null,n.data.keys); })); }},{key: "getSigningKeys",value: function (e) { var t = this; this.getKeys((function (r,n) { if (r) { return e(r); } if (!n || !n.length) { return e(new a.default("The JWKS endpoint did not contain any keys")); } var o = n.filter((function (e) { return "RSA" === e.kty && ((!e.hasOwnProperty("use") || "sig" === e.use) && (e.x5c && e.x5c.length || e.n && e.e)); })).map((function (e) { var t = {kid: e.kid,nbf: e.nbf}; return e.x5c && e.x5c.length ? (t.publicKey = (0,c.certToPEM)(e.x5c[0]),t.getPublicKey = function () { return t.publicKey; }) : (t.rsaPublicKey = (0,c.rsaPublicKeyToPEM)(e.n,e.e),t.getPublicKey = function () { return t.rsaPublicKey; }),t; })); return o.length ? (t.logger("Signing Keys:",o),e(null,o)) : e(new a.default("The JWKS endpoint did not contain any signing keys")); })); }}]),e; }(); },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.SigningKeyNotFoundError = t.JwksRateLimitError = t.JwksError = t.ArgumentError = void 0; var n = a(r(98)),o = a(r(30)),i = a(r(37)),s = a(r(31)); function a (e) { return e && e.__esModule ? e : {default: e}; }t.ArgumentError = n.default,t.JwksError = o.default,t.JwksRateLimitError = i.default,t.SigningKeyNotFoundError = s.default; },function (e,t,r) { var n = r(6),o = n.Buffer; function i (e,t) { for (var r in e) { t[r] = e[r]; } } function s (e,t,r) { return o(e,t,r); }o.from && o.alloc && o.allocUnsafe && o.allocUnsafeSlow ? e.exports = n : (i(n,t),t.Buffer = s),s.prototype = Object.create(o.prototype),i(o,s),s.from = function (e,t,r) { if ("number" === typeof e) { throw new TypeError("Argument must not be a number"); } return o(e,t,r); },s.alloc = function (e,t,r) { if ("number" !== typeof e) { throw new TypeError("Argument must be a number"); } var n = o(e); return void 0 !== t ? "string" === typeof r ? n.fill(t,r) : n.fill(t) : n.fill(0),n; },s.allocUnsafe = function (e) { if ("number" !== typeof e) { throw new TypeError("Argument must be a number"); } return o(e); },s.allocUnsafeSlow = function (e) { if ("number" !== typeof e) { throw new TypeError("Argument must be a number"); } return n.SlowBuffer(e); }; },function (e,t) { e.exports = require("stream"); },function (e,t) { e.exports = require("buffer"); },function (e,t) { var r = function (e,t) { Error.call(this,e),Error.captureStackTrace && Error.captureStackTrace(this,this.constructor),this.name = "JsonWebTokenError",this.message = e,t && (this.inner = t); }; (r.prototype = Object.create(Error.prototype)).constructor = r,e.exports = r; },function (e,t,r) { "undefined" === typeof process || "renderer" === process.type || !0 === process.browser || process.__nwjs ? e.exports = r(56) : e.exports = r(57); },function (e,t) { var r = 1e3,n = 6e4,o = 60 * n,i = 24 * o; function s (e,t,r,n) { var o = t >= 1.5 * r; return `${Math.round(e / r)} ${n}${o ? "s" : ""}`; }e.exports = function (e,t) { t = t || {}; var a = typeof e; if ("string" === a && e.length > 0) { return function (e) { if ((e = String(e)).length > 100) { return; } var t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e); if (!t) { return; } var s = parseFloat(t[1]); switch ((t[2] || "ms").toLowerCase()) { case "years":case "year":case "yrs":case "yr":case "y":return 315576e5 * s; case "weeks":case "week":case "w":return 6048e5 * s; case "days":case "day":case "d":return s * i; case "hours":case "hour":case "hrs":case "hr":case "h":return s * o; case "minutes":case "minute":case "mins":case "min":case "m":return s * n; case "seconds":case "second":case "secs":case "sec":case "s":return s * r; case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return s; default:return; } }(e); } if ("number" === a && isFinite(e)) { return t.long ? function (e) { var t = Math.abs(e); if (t >= i) { return s(e,t,i,"day"); } if (t >= o) { return s(e,t,o,"hour"); } if (t >= n) { return s(e,t,n,"minute"); } if (t >= r) { return s(e,t,r,"second"); } return `${e} ms`; }(e) : function (e) { var t = Math.abs(e); if (t >= i) { return `${Math.round(e / i)}d`; } if (t >= o) { return `${Math.round(e / o)}h`; } if (t >= n) { return `${Math.round(e / n)}m`; } if (t >= r) { return `${Math.round(e / r)}s`; } return `${e}ms`; }(e); } throw new Error(`val is not a non-empty string or a valid number. val=${JSON.stringify(e)}`); }; },function (e,t) { e.exports = require("http"); },function (e,t) { e.exports = require("https"); },function (e,t) { e.exports = require("url"); },function (e,t,r) { "use strict"; var n = r(0); function o (e) { return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]"); }e.exports = function (e,t,r) { if (!t) { return e; } var i; if (r) { i = r(t); } else if (n.isURLSearchParams(t)) { i = t.toString(); } else { var s = []; n.forEach(t,(function (e,t) { null != e && (n.isArray(e) ? t += "[]" : e = [e],n.forEach(e,(function (e) { n.isDate(e) ? e = e.toISOString() : n.isObject(e) && (e = JSON.stringify(e)),s.push(`${o(t)}=${o(e)}`); }))); })),i = s.join("&"); } if (i) { var a = e.indexOf("#"); -1 !== a && (e = e.slice(0,a)),e += (-1 === e.indexOf("?") ? "?" : "&") + i; } return e; }; },function (e,t,r) { "use strict"; var n = r(24); e.exports = function (e,t,r,o,i) { var s = new Error(e); return n(s,t,r,o,i); }; },function (e,t,r) { var n = r(104),o = r(107); t.ALGORITHMS = ["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign = n.sign,t.verify = o.verify,t.decode = o.decode,t.isValid = o.isValid,t.createSign = function (e) { return new n(e); },t.createVerify = function (e) { return new o(e); }; },function (e,t) { e.exports = require("crypto"); },function (e,t,r) { e.exports = function (e) { function t (e) { let t = 0; for (let r = 0; r < e.length; r++) { t = (t << 5) - t + e.charCodeAt(r),t |= 0; } return n.colors[Math.abs(t) % n.colors.length]; } function n (e) { let r; function s (...e) { if (!s.enabled) { return; } const t = s,o = Number(new Date()),i = o - (r || o); t.diff = i,t.prev = r,t.curr = o,r = o,e[0] = n.coerce(e[0]),"string" !== typeof e[0] && e.unshift("%O"); let a = 0; e[0] = e[0].replace(/%([a-zA-Z%])/g,(r,o) => { if ("%%" === r) { return r; } a++; const i = n.formatters[o]; if ("function" === typeof i) { const n = e[a]; r = i.call(t,n),e.splice(a,1),a--; } return r; }),n.formatArgs.call(t,e); (t.log || n.log).apply(t,e); } return s.namespace = e,s.enabled = n.enabled(e),s.useColors = n.useColors(),s.color = t(e),s.destroy = o,s.extend = i,"function" === typeof n.init && n.init(s),n.instances.push(s),s; } function o () { const e = n.instances.indexOf(this); return -1 !== e && (n.instances.splice(e,1),!0); } function i (e,t) { const r = n(this.namespace + (void 0 === t ? ":" : t) + e); return r.log = this.log,r; } function s (e) { return e.toString().substring(2,e.toString().length - 2).replace(/\.\*\?$/,"*"); } return n.debug = n,n.default = n,n.coerce = function (e) { if (e instanceof Error) { return e.stack || e.message; } return e; },n.disable = function () { const e = [...n.names.map(s),...n.skips.map(s).map(e => `-${e}`)].join(","); return n.enable(""),e; },n.enable = function (e) { let t; n.save(e),n.names = [],n.skips = []; const r = ("string" === typeof e ? e : "").split(/[\s,]+/),o = r.length; for (t = 0; t < o; t++) { r[t] && ("-" === (e = r[t].replace(/\*/g,".*?"))[0] ? n.skips.push(new RegExp(`^${e.substr(1)}$`)) : n.names.push(new RegExp(`^${e}$`))); } for (t = 0; t < n.instances.length; t++) { const e = n.instances[t]; e.enabled = n.enabled(e.namespace); } },n.enabled = function (e) { if ("*" === e[e.length - 1]) { return !0; } let t,r; for (t = 0,r = n.skips.length; t < r; t++) { if (n.skips[t].test(e)) { return !1; } } for (t = 0,r = n.names.length; t < r; t++) { if (n.names[t].test(e)) { return !0; } } return !1; },n.humanize = r(9),Object.keys(e).forEach(t => { n[t] = e[t]; }),n.instances = [],n.names = [],n.skips = [],n.formatters = {},n.selectColor = t,n.enable(n.load()),n; }; },function (e,t) { e.exports = require("tty"); },function (e,t,r) { "use strict"; const n = r(58),o = r(59),{env: i} = process; let s; function a (e) { return function (e) { return 0 !== e && {level: e,hasBasic: !0,has256: e >= 2,has16m: e >= 3}; }(function (e) { if (0 === s) { return 0; } if (o("color=16m") || o("color=full") || o("color=truecolor")) { return 3; } if (o("color=256")) { return 2; } if (e && !e.isTTY && void 0 === s) { return 0; } const t = s || 0; if ("dumb" === i.TERM) { return t; } if ("win32" === process.platform) { const e = n.release().split("."); return Number(process.versions.node.split(".")[0]) >= 8 && Number(e[0]) >= 10 && Number(e[2]) >= 10586 ? Number(e[2]) >= 14931 ? 3 : 2 : 1; } if ("CI" in i) { return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e => e in i) || "codeship" === i.CI_NAME ? 1 : t; } if ("TEAMCITY_VERSION" in i) { return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION) ? 1 : 0; } if ("truecolor" === i.COLORTERM) { return 3; } if ("TERM_PROGRAM" in i) { const e = parseInt((i.TERM_PROGRAM_VERSION || "").split(".")[0],10); switch (i.TERM_PROGRAM) { case "iTerm.app":return e >= 3 ? 3 : 2; case "Apple_Terminal":return 2; } } return /-256(color)?$/i.test(i.TERM) ? 2 : /^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM) || "COLORTERM" in i ? 1 : t; }(e)); }o("no-color") || o("no-colors") || o("color=false") || o("color=never") ? s = 0 : (o("color") || o("colors") || o("color=true") || o("color=always")) && (s = 1),"FORCE_COLOR" in i && (s = !0 === i.FORCE_COLOR || "true" === i.FORCE_COLOR ? 1 : !1 === i.FORCE_COLOR || "false" === i.FORCE_COLOR ? 0 : 0 === i.FORCE_COLOR.length ? 1 : Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports = {supportsColor: a,stdout: a(process.stdout),stderr: a(process.stderr)}; },function (e,t,r) { "use strict"; e.exports = function (e,t) { return function () { for (var r = new Array(arguments.length),n = 0; n < r.length; n++) { r[n] = arguments[n]; } return e.apply(t,r); }; }; },function (e,t,r) { "use strict"; e.exports = function (e) { return !(!e || !e.__CANCEL__); }; },function (e,t,r) { "use strict"; var n = r(0),o = r(67),i = {"Content-Type": "application/x-www-form-urlencoded"}; function s (e,t) { !n.isUndefined(e) && n.isUndefined(e["Content-Type"]) && (e["Content-Type"] = t); } var a,u = {adapter: ("undefined" !== typeof XMLHttpRequest ? a = r(68) : "undefined" !== typeof process && "[object process]" === Object.prototype.toString.call(process) && (a = r(74)),a),transformRequest: [function (e,t) { return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e) || n.isArrayBuffer(e) || n.isBuffer(e) || n.isStream(e) || n.isFile(e) || n.isBlob(e) ? e : n.isArrayBufferView(e) ? e.buffer : n.isURLSearchParams(e) ? (s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()) : n.isObject(e) ? (s(t,"application/json;charset=utf-8"),JSON.stringify(e)) : e; }],transformResponse: [function (e) { if ("string" === typeof e) { try { e = JSON.parse(e); } catch (e) {} } return e; }],timeout: 0,xsrfCookieName: "XSRF-TOKEN",xsrfHeaderName: "X-XSRF-TOKEN",maxContentLength: -1,validateStatus: function (e) { return e >= 200 && e < 300; }}; u.headers = {common: {Accept: "application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function (e) { u.headers[e] = {}; })),n.forEach(["post","put","patch"],(function (e) { u.headers[e] = n.merge(i); })),e.exports = u; },function (e,t,r) { "use strict"; var n = r(14); e.exports = function (e,t,r) { var o = r.config.validateStatus; !o || o(r.status) ? e(r) : t(n(`Request failed with status code ${r.status}`,r.config,null,r.request,r)); }; },function (e,t,r) { "use strict"; e.exports = function (e,t,r,n,o) { return e.config = t,r && (e.code = r),e.request = n,e.response = o,e.isAxiosError = !0,e.toJSON = function () { return {message: this.message,name: this.name,description: this.description,number: this.number,fileName: this.fileName,lineNumber: this.lineNumber,columnNumber: this.columnNumber,stack: this.stack,config: this.config,code: this.code}; },e; }; },function (e,t,r) { "use strict"; var n = r(69),o = r(70); e.exports = function (e,t) { return e && !n(t) ? o(e,t) : t; }; },function (e,t,r) { var n = r(12),o = r(10),i = r(11),s = r(75),a = r(5).Writable,u = r(76)("follow-redirects"),c = {GET: !0,HEAD: !0,OPTIONS: !0,TRACE: !0},f = Object.create(null); function l (e,t) { a.call(this),e.headers = e.headers || {},this._options = e,this._redirectCount = 0,this._redirects = [],this._requestBodyLength = 0,this._requestBodyBuffers = [],e.host && (e.hostname || (e.hostname = e.host),delete e.host),t && this.on("response",t); var r = this; if (this._onNativeResponse = function (e) { r._processResponse(e); },!e.pathname && e.path) { var n = e.path.indexOf("?"); n < 0 ? e.pathname = e.path : (e.pathname = e.path.substring(0,n),e.search = e.path.substring(n)); } this._performRequest(); } function p (e) { var t = {maxRedirects: 21,maxBodyLength: 10485760},r = {}; return Object.keys(e).forEach((function (o) { var i = `${o}:`,a = r[i] = e[o],c = t[o] = Object.create(a); c.request = function (e,o) { return "string" === typeof e ? (e = n.parse(e)).maxRedirects = t.maxRedirects : e = Object.assign({protocol: i,maxRedirects: t.maxRedirects,maxBodyLength: t.maxBodyLength},e),e.nativeProtocols = r,s.equal(e.protocol,i,"protocol mismatch"),u("options",e),new l(e,o); },c.get = function (e,t) { var r = c.request(e,t); return r.end(),r; }; })),t; }["abort","aborted","error","socket","timeout"].forEach((function (e) { f[e] = function (t) { this._redirectable.emit(e,t); }; })),l.prototype = Object.create(a.prototype),l.prototype.write = function (e,t,r) { if (!("string" === typeof e || "object" === typeof e && "length" in e)) { throw new Error("data should be a string, Buffer or Uint8Array"); } "function" === typeof t && (r = t,t = null),0 !== e.length ? this._requestBodyLength + e.length <= this._options.maxBodyLength ? (this._requestBodyLength += e.length,this._requestBodyBuffers.push({data: e,encoding: t}),this._currentRequest.write(e,t,r)) : (this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()) : r && r(); },l.prototype.end = function (e,t,r) { "function" === typeof e ? (r = e,e = t = null) : "function" === typeof t && (r = t,t = null); var n = this._currentRequest; this.write(e || "",t,(function () { n.end(null,null,r); })); },l.prototype.setHeader = function (e,t) { this._options.headers[e] = t,this._currentRequest.setHeader(e,t); },l.prototype.removeHeader = function (e) { delete this._options.headers[e],this._currentRequest.removeHeader(e); },["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function (e) { l.prototype[e] = function (t,r) { return this._currentRequest[e](t,r); }; })),["aborted","connection","socket"].forEach((function (e) { Object.defineProperty(l.prototype,e,{get: function () { return this._currentRequest[e]; }}); })),l.prototype._performRequest = function () { var e = this._options.protocol,t = this._options.nativeProtocols[e]; if (t) { if (this._options.agents) { var r = e.substr(0,e.length - 1); this._options.agent = this._options.agents[r]; } var o = this._currentRequest = t.request(this._options,this._onNativeResponse); for (var i in this._currentUrl = n.format(this._options),o._redirectable = this,f) { i && o.on(i,f[i]); } if (this._isRedirect) { var s = 0,a = this._requestBodyBuffers; !function e () { if (s < a.length) { var t = a[s++]; o.write(t.data,t.encoding,e); } else { o.end(); } }(); } } else { this.emit("error",new Error(`Unsupported protocol ${e}`)); } },l.prototype._processResponse = function (e) { this._options.trackRedirects && this._redirects.push({url: this._currentUrl,headers: e.headers,statusCode: e.statusCode}); var t = e.headers.location; if (t && !1 !== this._options.followRedirects && e.statusCode >= 300 && e.statusCode < 400) { if (++this._redirectCount > this._options.maxRedirects) { return void this.emit("error",new Error("Max redirects exceeded.")); } var r,o = this._options.headers; if (307 !== e.statusCode && !(this._options.method in c)) { for (r in this._options.method = "GET",this._requestBodyBuffers = [],o) { /^content-/i.test(r) && delete o[r]; } } if (!this._isRedirect) { for (r in o) { /^host$/i.test(r) && delete o[r]; } } var i = n.resolve(this._currentUrl,t); u("redirecting to",i),Object.assign(this._options,n.parse(i)),this._isRedirect = !0,this._performRequest(),e.destroy(); } else { e.responseUrl = this._currentUrl,e.redirects = this._redirects,this.emit("response",e),this._requestBodyBuffers = []; } },e.exports = p({http: o,https: i}),e.exports.wrap = p; },function (e,t,r) { function n (e) { var r; function n () { if (n.enabled) { var e = n,o = Number(new Date()),i = o - (r || o); e.diff = i,e.prev = r,e.curr = o,r = o; for (var s = new Array(arguments.length),a = 0; a < s.length; a++) { s[a] = arguments[a]; }s[0] = t.coerce(s[0]),"string" !== typeof s[0] && s.unshift("%O"); var u = 0; s[0] = s[0].replace(/%([a-zA-Z%])/g,(function (r,n) { if ("%%" === r) { return r; } u++; var o = t.formatters[n]; if ("function" === typeof o) { var i = s[u]; r = o.call(e,i),s.splice(u,1),u--; } return r; })),t.formatArgs.call(e,s); var c = n.log || t.log || console.log.bind(console); c.apply(e,s); } } return n.namespace = e,n.enabled = t.enabled(e),n.useColors = t.useColors(),n.color = function (e) { var r,n = 0; for (r in e) { n = (n << 5) - n + e.charCodeAt(r),n |= 0; } return t.colors[Math.abs(n) % t.colors.length]; }(e),n.destroy = o,"function" === typeof t.init && t.init(n),t.instances.push(n),n; } function o () { var e = t.instances.indexOf(this); return -1 !== e && (t.instances.splice(e,1),!0); }(t = e.exports = n.debug = n.default = n).coerce = function (e) { return e instanceof Error ? e.stack || e.message : e; },t.disable = function () { t.enable(""); },t.enable = function (e) { var r; t.save(e),t.names = [],t.skips = []; var n = ("string" === typeof e ? e : "").split(/[\s,]+/),o = n.length; for (r = 0; r < o; r++) { n[r] && ("-" === (e = n[r].replace(/\*/g,".*?"))[0] ? t.skips.push(new RegExp(`^${e.substr(1)}$`)) : t.names.push(new RegExp(`^${e}$`))); } for (r = 0; r < t.instances.length; r++) { var i = t.instances[r]; i.enabled = t.enabled(i.namespace); } },t.enabled = function (e) { if ("*" === e[e.length - 1]) { return !0; } var r,n; for (r = 0,n = t.skips.length; r < n; r++) { if (t.skips[r].test(e)) { return !1; } } for (r = 0,n = t.names.length; r < n; r++) { if (t.names[r].test(e)) { return !0; } } return !1; },t.humanize = r(78),t.instances = [],t.names = [],t.skips = [],t.formatters = {}; },function (e,t,r) { "use strict"; var n = r(0); e.exports = function (e,t) { t = t || {}; var r = {},o = ["url","method","params","data"],i = ["headers","auth","proxy"],s = ["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"]; n.forEach(o,(function (e) { void 0 !== t[e] && (r[e] = t[e]); })),n.forEach(i,(function (o) { n.isObject(t[o]) ? r[o] = n.deepMerge(e[o],t[o]) : void 0 !== t[o] ? r[o] = t[o] : n.isObject(e[o]) ? r[o] = n.deepMerge(e[o]) : void 0 !== e[o] && (r[o] = e[o]); })),n.forEach(s,(function (n) { void 0 !== t[n] ? r[n] = t[n] : void 0 !== e[n] && (r[n] = e[n]); })); var a = o.concat(i).concat(s),u = Object.keys(t).filter((function (e) { return -1 === a.indexOf(e); })); return n.forEach(u,(function (n) { void 0 !== t[n] ? r[n] = t[n] : void 0 !== e[n] && (r[n] = e[n]); })),r; }; },function (e,t,r) { "use strict"; function n (e) { this.message = e; }n.prototype.toString = function () { return `Cancel${this.message ? `: ${this.message}` : ""}`; },n.prototype.__CANCEL__ = !0,e.exports = n; },function (e,t,r) { "use strict"; function n (e) { Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name = "JwksError",this.message = e; }n.prototype = Object.create(Error.prototype),n.prototype.constructor = n,e.exports = n; },function (e,t,r) { "use strict"; function n (e) { Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name = "SigningKeyNotFoundError",this.message = e; }n.prototype = Object.create(Error.prototype),n.prototype.constructor = n,e.exports = n; },function (e,t,r) { e.exports = l; var n,o = r(89),i = r(1),s = r(91),a = {},u = "function" === typeof Symbol; function c (e,t,r) { var o; return a[t] ? o = a[t] : (o = n(t),a[t] = o),2 === arguments.length ? e[o] : (e[o] = r,r); } function f () { return 1; } function l (e) { if (!(this instanceof l)) { return new l(e); } "number" === typeof e && (e = {max: e}),e || (e = {}); var t = c(this,"max",e.max); (!t || "number" !== typeof t || t <= 0) && c(this,"max",1 / 0); var r = e.length || f; "function" !== typeof r && (r = f),c(this,"lengthCalculator",r),c(this,"allowStale",e.stale || !1),c(this,"maxAge",e.maxAge || 0),c(this,"dispose",e.dispose),this.reset(); } function p (e,t,r,n) { var o = r.value; d(e,o) && (g(e,r),c(e,"allowStale") || (o = void 0)),o && t.call(n,o.value,o.key,e); } function h (e,t,r) { var n = c(e,"cache").get(t); if (n) { var o = n.value; d(e,o) ? (g(e,n),c(e,"allowStale") || (o = void 0)) : r && c(e,"lruList").unshiftNode(n),o && (o = o.value); } return o; } function d (e,t) { if (!t || !t.maxAge && !c(e,"maxAge")) { return !1; } var r = Date.now() - t.now; return t.maxAge ? r > t.maxAge : c(e,"maxAge") && r > c(e,"maxAge"); } function v (e) { if (c(e,"length") > c(e,"max")) { for (var t = c(e,"lruList").tail; c(e,"length") > c(e,"max") && null !== t;) { var r = t.prev; g(e,t),t = r; } } } function g (e,t) { if (t) { var r = t.value; c(e,"dispose") && c(e,"dispose").call(this,r.key,r.value),c(e,"length",c(e,"length") - r.length),c(e,"cache").delete(r.key),c(e,"lruList").removeNode(t); } } function y (e,t,r,n,o) { this.key = e,this.value = t,this.length = r,this.now = n,this.maxAge = o || 0; }n = u ? function (e) { return Symbol.for(e); } : function (e) { return `_${e}`; },Object.defineProperty(l.prototype,"max",{set: function (e) { (!e || "number" !== typeof e || e <= 0) && (e = 1 / 0),c(this,"max",e),v(this); },get: function () { return c(this,"max"); },enumerable: !0}),Object.defineProperty(l.prototype,"allowStale",{set: function (e) { c(this,"allowStale",Boolean(e)); },get: function () { return c(this,"allowStale"); },enumerable: !0}),Object.defineProperty(l.prototype,"maxAge",{set: function (e) { (!e || "number" !== typeof e || e < 0) && (e = 0),c(this,"maxAge",e),v(this); },get: function () { return c(this,"maxAge"); },enumerable: !0}),Object.defineProperty(l.prototype,"lengthCalculator",{set: function (e) { "function" !== typeof e && (e = f),e !== c(this,"lengthCalculator") && (c(this,"lengthCalculator",e),c(this,"length",0),c(this,"lruList").forEach((function (e) { e.length = c(this,"lengthCalculator").call(this,e.value,e.key),c(this,"length",c(this,"length") + e.length); }),this)),v(this); },get: function () { return c(this,"lengthCalculator"); },enumerable: !0}),Object.defineProperty(l.prototype,"length",{get: function () { return c(this,"length"); },enumerable: !0}),Object.defineProperty(l.prototype,"itemCount",{get: function () { return c(this,"lruList").length; },enumerable: !0}),l.prototype.rforEach = function (e,t) { t = t || this; for (var r = c(this,"lruList").tail; null !== r;) { var n = r.prev; p(this,e,r,t),r = n; } },l.prototype.forEach = function (e,t) { t = t || this; for (var r = c(this,"lruList").head; null !== r;) { var n = r.next; p(this,e,r,t),r = n; } },l.prototype.keys = function () { return c(this,"lruList").toArray().map((function (e) { return e.key; }),this); },l.prototype.values = function () { return c(this,"lruList").toArray().map((function (e) { return e.value; }),this); },l.prototype.reset = function () { c(this,"dispose") && c(this,"lruList") && c(this,"lruList").length && c(this,"lruList").forEach((function (e) { c(this,"dispose").call(this,e.key,e.value); }),this),c(this,"cache",new o()),c(this,"lruList",new s()),c(this,"length",0); },l.prototype.dump = function () { return c(this,"lruList").map((function (e) { if (!d(this,e)) { return {k: e.key,v: e.value,e: e.now + (e.maxAge || 0)}; } }),this).toArray().filter((function (e) { return e; })); },l.prototype.dumpLru = function () { return c(this,"lruList"); },l.prototype.inspect = function (e,t) { var r = "LRUCache {",n = !1; c(this,"allowStale") && (r += "\n  allowStale: true",n = !0); var o = c(this,"max"); o && o !== 1 / 0 && (n && (r += ","),r += `\n  max: ${i.inspect(o,t)}`,n = !0); var s = c(this,"maxAge"); s && (n && (r += ","),r += `\n  maxAge: ${i.inspect(s,t)}`,n = !0); var a = c(this,"lengthCalculator"); a && a !== f && (n && (r += ","),r += `\n  length: ${i.inspect(c(this,"length"),t)}`,n = !0); var u = !1; return c(this,"lruList").forEach((function (e) { u ? r += ",\n  " : (n && (r += ",\n"),u = !0,r += "\n  "); var o = i.inspect(e.key).split("\n").join("\n  "),c = {value: e.value}; e.maxAge !== s && (c.maxAge = e.maxAge),a !== f && (c.length = e.length),d(this,e) && (c.stale = !0),c = i.inspect(c,t).split("\n").join("\n  "),r += `${o} => ${c}`; })),(u || n) && (r += "\n"),r += "}"; },l.prototype.set = function (e,t,r) { var n = (r = r || c(this,"maxAge")) ? Date.now() : 0,o = c(this,"lengthCalculator").call(this,t,e); if (c(this,"cache").has(e)) { if (o > c(this,"max")) { return g(this,c(this,"cache").get(e)),!1; } var i = c(this,"cache").get(e).value; return c(this,"dispose") && c(this,"dispose").call(this,e,i.value),i.now = n,i.maxAge = r,i.value = t,c(this,"length",c(this,"length") + (o - i.length)),i.length = o,this.get(e),v(this),!0; } var s = new y(e,t,o,n,r); return s.length > c(this,"max") ? (c(this,"dispose") && c(this,"dispose").call(this,e,t),!1) : (c(this,"length",c(this,"length") + s.length),c(this,"lruList").unshift(s),c(this,"cache").set(e,c(this,"lruList").head),v(this),!0); },l.prototype.has = function (e) { return Boolean(c(this,"cache").has(e)) && !d(this,c(this,"cache").get(e).value); },l.prototype.get = function (e) { return h(this,e,!0); },l.prototype.peek = function (e) { return h(this,e,!1); },l.prototype.pop = function () { var e = c(this,"lruList").tail; return e ? (g(this,e),e.value) : null; },l.prototype.del = function (e) { g(this,c(this,"cache").get(e)); },l.prototype.load = function (e) { this.reset(); for (var t = Date.now(),r = e.length - 1; r >= 0; r--) { var n = e[r],o = n.e || 0; if (0 === o) { this.set(n.k,n.v); } else { var i = o - t; i > 0 && this.set(n.k,n.v,i); } } },l.prototype.prune = function () { var e = this; c(this,"cache").forEach((function (t,r) { h(e,r,!1); })); }; },function (e,t) { e.exports = require("events"); },function (e,t,r) { (function (e) { var r = "[object Arguments]",n = "[object Function]",o = "[object GeneratorFunction]",i = "[object Map]",s = "[object Set]",a = /\w*$/,u = /^\[object .+?Constructor\]$/,c = /^(?:0|[1-9]\d*)$/,f = {}; f[r] = f["[object Array]"] = f["[object ArrayBuffer]"] = f["[object DataView]"] = f["[object Boolean]"] = f["[object Date]"] = f["[object Float32Array]"] = f["[object Float64Array]"] = f["[object Int8Array]"] = f["[object Int16Array]"] = f["[object Int32Array]"] = f[i] = f["[object Number]"] = f["[object Object]"] = f["[object RegExp]"] = f[s] = f["[object String]"] = f["[object Symbol]"] = f["[object Uint8Array]"] = f["[object Uint8ClampedArray]"] = f["[object Uint16Array]"] = f["[object Uint32Array]"] = !0,f["[object Error]"] = f[n] = f["[object WeakMap]"] = !1; var l = "object" === typeof global && global && global.Object === Object && global,p = "object" === typeof self && self && self.Object === Object && self,h = l || p || Function("return this")(),d = t && !t.nodeType && t,v = d && "object" === typeof e && e && !e.nodeType && e,g = v && v.exports === d; function y (e,t) { return e.set(t[0],t[1]),e; } function m (e,t) { return e.add(t),e; } function b (e,t,r,n) { var o = -1,i = e ? e.length : 0; for (n && i && (r = e[++o]); ++o < i;) { r = t(r,e[o],o,e); } return r; } function w (e) { var t = !1; if (null != e && "function" !== typeof e.toString) { try { t = Boolean(String(e)); } catch (e) {} } return t; } function x (e) { var t = -1,r = Array(e.size); return e.forEach((function (e,n) { r[++t] = [n,e]; })),r; } function S (e,t) { return function (r) { return e(t(r)); }; } function E (e) { var t = -1,r = Array(e.size); return e.forEach((function (e) { r[++t] = e; })),r; } var C,j = Array.prototype,_ = Function.prototype,k = Object.prototype,A = h["__core-js_shared__"],O = (C = /[^.]+$/.exec(A && A.keys && A.keys.IE_PROTO || "")) ? `Symbol(src)_1.${C}` : "",R = _.toString,T = k.hasOwnProperty,F = k.toString,P = RegExp(`^${R.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`),I = g ? h.Buffer : void 0,N = h.Symbol,B = h.Uint8Array,L = S(Object.getPrototypeOf,Object),M = Object.create,K = k.propertyIsEnumerable,U = j.splice,D = Object.getOwnPropertySymbols,q = I ? I.isBuffer : void 0,J = S(Object.keys,Object),z = ve(h,"DataView"),H = ve(h,"Map"),G = ve(h,"Promise"),$ = ve(h,"Set"),V = ve(h,"WeakMap"),W = ve(Object,"create"),Y = we(z),X = we(H),Z = we(G),Q = we($),ee = we(V),te = N ? N.prototype : void 0,re = te ? te.valueOf : void 0; function ne (e) { var t = -1,r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0],n[1]); } } function oe (e) { var t = -1,r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0],n[1]); } } function ie (e) { var t = -1,r = e ? e.length : 0; for (this.clear(); ++t < r;) { var n = e[t]; this.set(n[0],n[1]); } } function se (e) { this.__data__ = new oe(e); } function ae (e,t) { var n = Se(e) || function (e) { return function (e) { return function (e) { return Boolean(e) && "object" === typeof e; }(e) && Ee(e); }(e) && T.call(e,"callee") && (!K.call(e,"callee") || F.call(e) == r); }(e) ? function (e,t) { for (var r = -1,n = Array(e); ++r < e;) { n[r] = t(r); } return n; }(e.length,String) : [],o = n.length,i = Boolean(o); for (var s in e) { !t && !T.call(e,s) || i && ("length" == s || me(s,o)) || n.push(s); } return n; } function ue (e,t,r) { var n = e[t]; T.call(e,t) && xe(n,r) && (void 0 !== r || t in e) || (e[t] = r); } function ce (e,t) { for (var r = e.length; r--;) { if (xe(e[r][0],t)) { return r; } } return -1; } function fe (e,t,u,c,l,p,h) { var d; if (c && (d = p ? c(e,l,p,h) : c(e)),void 0 !== d) { return d; } if (!_e(e)) { return e; } var v = Se(e); if (v) { if (d = function (e) { var t = e.length,r = e.constructor(t); t && "string" === typeof e[0] && T.call(e,"index") && (r.index = e.index,r.input = e.input); return r; }(e),!t) { return function (e,t) { var r = -1,n = e.length; t || (t = Array(n)); for (;++r < n;) { t[r] = e[r]; } return t; }(e,d); } } else { var g = ye(e),S = g == n || g == o; if (Ce(e)) { return function (e,t) { if (t) { return e.slice(); } var r = new e.constructor(e.length); return e.copy(r),r; }(e,t); } if ("[object Object]" == g || g == r || S && !p) { if (w(e)) { return p ? e : {}; } if (d = function (e) { return "function" !== typeof e.constructor || be(e) ? {} : (t = L(e),_e(t) ? M(t) : {}); var t; }(S ? {} : e),!t) { return function (e,t) { return he(e,ge(e),t); }(e,function (e,t) { return e && he(t,ke(t),e); }(d,e)); } } else { if (!f[g]) { return p ? e : {}; } d = function (e,t,r,n) { var o = e.constructor; switch (t) { case "[object ArrayBuffer]":return pe(e); case "[object Boolean]":case "[object Date]":return new o(Number(e)); case "[object DataView]":return function (e,t) { var r = t ? pe(e.buffer) : e.buffer; return new e.constructor(r,e.byteOffset,e.byteLength); }(e,n); case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return function (e,t) { var r = t ? pe(e.buffer) : e.buffer; return new e.constructor(r,e.byteOffset,e.length); }(e,n); case i:return function (e,t,r) { return b(t ? r(x(e),!0) : x(e),y,new e.constructor()); }(e,n,r); case "[object Number]":case "[object String]":return new o(e); case "[object RegExp]":return function (e) { var t = new e.constructor(e.source,a.exec(e)); return t.lastIndex = e.lastIndex,t; }(e); case s:return function (e,t,r) { return b(t ? r(E(e),!0) : E(e),m,new e.constructor()); }(e,n,r); case "[object Symbol]":return u = e,re ? Object(re.call(u)) : {}; } var u; }(e,g,fe,t); } }h || (h = new se()); var C = h.get(e); if (C) { return C; } if (h.set(e,d),!v) { var j = u ? function (e) { return function (e,t,r) { var n = t(e); return Se(e) ? n : function (e,t) { for (var r = -1,n = t.length,o = e.length; ++r < n;) { e[o + r] = t[r]; } return e; }(n,r(e)); }(e,ke,ge); }(e) : ke(e); } return function (e,t) { for (var r = -1,n = e ? e.length : 0; ++r < n && !1 !== t(e[r],r,e);) { } }(j || e,(function (r,n) { j && (r = e[n = r]),ue(d,n,fe(r,t,u,c,n,e,h)); })),d; } function le (e) { return !(!_e(e) || (t = e,O && O in t)) && (je(e) || w(e) ? P : u).test(we(e)); var t; } function pe (e) { var t = new e.constructor(e.byteLength); return new B(t).set(new B(e)),t; } function he (e,t,r,n) { r || (r = {}); for (var o = -1,i = t.length; ++o < i;) { var s = t[o],a = n ? n(r[s],e[s],s,r,e) : void 0; ue(r,s,void 0 === a ? e[s] : a); } return r; } function de (e,t) { var r,n,o = e.__data__; return ("string" == (n = typeof (r = t)) || "number" == n || "symbol" == n || "boolean" == n ? "__proto__" !== r : null === r) ? o["string" === typeof t ? "string" : "hash"] : o.map; } function ve (e,t) { var r = function (e,t) { return null == e ? void 0 : e[t]; }(e,t); return le(r) ? r : void 0; }ne.prototype.clear = function () { this.__data__ = W ? W(null) : {}; },ne.prototype.delete = function (e) { return this.has(e) && delete this.__data__[e]; },ne.prototype.get = function (e) { var t = this.__data__; if (W) { var r = t[e]; return "__lodash_hash_undefined__" === r ? void 0 : r; } return T.call(t,e) ? t[e] : void 0; },ne.prototype.has = function (e) { var t = this.__data__; return W ? void 0 !== t[e] : T.call(t,e); },ne.prototype.set = function (e,t) { return this.__data__[e] = W && void 0 === t ? "__lodash_hash_undefined__" : t,this; },oe.prototype.clear = function () { this.__data__ = []; },oe.prototype.delete = function (e) { var t = this.__data__,r = ce(t,e); return !(r < 0) && (r == t.length - 1 ? t.pop() : U.call(t,r,1),!0); },oe.prototype.get = function (e) { var t = this.__data__,r = ce(t,e); return r < 0 ? void 0 : t[r][1]; },oe.prototype.has = function (e) { return ce(this.__data__,e) > -1; },oe.prototype.set = function (e,t) { var r = this.__data__,n = ce(r,e); return n < 0 ? r.push([e,t]) : r[n][1] = t,this; },ie.prototype.clear = function () { this.__data__ = {hash: new ne(),map: new (H || oe)(),string: new ne()}; },ie.prototype.delete = function (e) { return de(this,e).delete(e); },ie.prototype.get = function (e) { return de(this,e).get(e); },ie.prototype.has = function (e) { return de(this,e).has(e); },ie.prototype.set = function (e,t) { return de(this,e).set(e,t),this; },se.prototype.clear = function () { this.__data__ = new oe(); },se.prototype.delete = function (e) { return this.__data__.delete(e); },se.prototype.get = function (e) { return this.__data__.get(e); },se.prototype.has = function (e) { return this.__data__.has(e); },se.prototype.set = function (e,t) { var r = this.__data__; if (r instanceof oe) { var n = r.__data__; if (!H || n.length < 199) { return n.push([e,t]),this; } r = this.__data__ = new ie(n); } return r.set(e,t),this; }; var ge = D ? S(D,Object) : function () { return []; },ye = function (e) { return F.call(e); }; function me (e,t) { return Boolean(t = null == t ? 9007199254740991 : t) && ("number" === typeof e || c.test(e)) && e > -1 && e % 1 == 0 && e < t; } function be (e) { var t = e && e.constructor; return e === ("function" === typeof t && t.prototype || k); } function we (e) { if (null != e) { try { return R.call(e); } catch (e) {} try { return `${e}`; } catch (e) {} } return ""; } function xe (e,t) { return e === t || e != e && t != t; }(z && "[object DataView]" != ye(new z(new ArrayBuffer(1))) || H && ye(new H()) != i || G && "[object Promise]" != ye(G.resolve()) || $ && ye(new $()) != s || V && "[object WeakMap]" != ye(new V())) && (ye = function (e) { var t = F.call(e),r = "[object Object]" == t ? e.constructor : void 0,n = r ? we(r) : void 0; if (n) { switch (n) { case Y:return "[object DataView]"; case X:return i; case Z:return "[object Promise]"; case Q:return s; case ee:return "[object WeakMap]"; } } return t; }); var Se = Array.isArray; function Ee (e) { return null != e && function (e) { return "number" === typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991; }(e.length) && !je(e); } var Ce = q || function () { return !1; }; function je (e) { var t = _e(e) ? F.call(e) : ""; return t == n || t == o; } function _e (e) { var t = typeof e; return Boolean(e) && ("object" == t || "function" == t); } function ke (e) { return Ee(e) ? ae(e) : function (e) { if (!be(e)) { return J(e); } var t = []; for (var r in Object(e)) { T.call(e,r) && "constructor" != r && t.push(r); } return t; }(e); }e.exports = function (e) { return fe(e,!0,!0); }; }).call(this,r(92)(e)); },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.deepFreeze = function e (t) { return t && (Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function (r) { !t.hasOwnProperty(r) || null === t[r] || "object" !== typeof t[r] && "function" !== typeof t[r] || t[r].constructor === Buffer || Object.isFrozen(t[r]) || e(t[r]); }))),t; }; },function (e,t) { var r = function (e,t,r,n) { if (this.bucketSize = e,this.tokensPerInterval = t,"string" === typeof r) { switch (r) { case "sec":case "second":this.interval = 1e3; break; case "min":case "minute":this.interval = 6e4; break; case "hr":case "hour":this.interval = 36e5; break; case "day":this.interval = 864e5; break; default:throw new Error(`Invaid interval ${r}`); } } else { this.interval = r; } this.parentBucket = n,this.content = 0,this.lastDrip = Number(new Date()); }; r.prototype = {bucketSize: 1,tokensPerInterval: 1,interval: 1e3,parentBucket: null,content: 0,lastDrip: 0,removeTokens: function (e,t) { var r = this; return this.bucketSize ? e > this.bucketSize ? (process.nextTick(t.bind(null,`Requested tokens ${e} exceeds bucket size ${this.bucketSize}`,null)),!1) : (this.drip(),e > this.content ? n() : this.parentBucket ? this.parentBucket.removeTokens(e,(function (o,i) { return o ? t(o,null) : e > r.content ? n() : (r.content -= e,void t(null,Math.min(i,r.content))); })) : (this.content -= e,process.nextTick(t.bind(null,null,this.content)),!0)) : (process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0); function n () { var n = Math.ceil((e - r.content) * (r.interval / r.tokensPerInterval)); return setTimeout((function () { r.removeTokens(e,t); }),n),!1; } },tryRemoveTokens: function (e) { return !this.bucketSize || !(e > this.bucketSize) && (this.drip(),!(e > this.content) && (!(this.parentBucket && !this.parentBucket.tryRemoveTokens(e)) && (this.content -= e,!0))); },drip: function () { if (this.tokensPerInterval) { var e = Number(new Date()),t = Math.max(e - this.lastDrip,0); this.lastDrip = e; var r = t * (this.tokensPerInterval / this.interval); this.content = Math.min(this.content + r,this.bucketSize); } else { this.content = this.bucketSize; } }},e.exports = r; },function (e,t,r) { "use strict"; function n (e) { Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name = "JwksRateLimitError",this.message = e; }n.prototype = Object.create(Error.prototype),n.prototype.constructor = n,e.exports = n; },function (e,t,r) { var n = r(15); e.exports = function (e,t) { t = t || {}; var r = n.decode(e,t); if (!r) { return null; } var o = r.payload; if ("string" === typeof o) { try { var i = JSON.parse(o); null !== i && "object" === typeof i && (o = i); } catch (e) {} } return !0 === t.complete ? {header: r.header,payload: o,signature: r.signature} : o; }; },function (e,t,r) { var n = r(4).Buffer,o = r(5); function i (e) { if (this.buffer = null,this.writable = !0,this.readable = !0,!e) { return this.buffer = n.alloc(0),this; } if ("function" === typeof e.pipe) { return this.buffer = n.alloc(0),e.pipe(this),this; } if (e.length || "object" === typeof e) { return this.buffer = e,this.writable = !1,process.nextTick(function () { this.emit("end",e),this.readable = !1,this.emit("close"); }.bind(this)),this; } throw new TypeError(`Unexpected data type (${typeof e})`); }r(1).inherits(i,o),i.prototype.write = function (e) { this.buffer = n.concat([this.buffer,n.from(e)]),this.emit("data",e); },i.prototype.end = function (e) { e && this.write(e),this.emit("end",e),this.emit("close"),this.writable = !1,this.readable = !1; },e.exports = i; },function (e,t,r) { var n = r(105),o = r(4).Buffer,i = r(16),s = r(41),a = r(1),u = "secret must be a string or buffer",c = "key must be a string or a buffer",f = "function" === typeof i.createPublicKey; function l (e) { if (!o.isBuffer(e) && "string" !== typeof e) { if (!f) { throw v(c); } if ("object" !== typeof e) { throw v(c); } if ("string" !== typeof e.type) { throw v(c); } if ("string" !== typeof e.asymmetricKeyType) { throw v(c); } if ("function" !== typeof e.export) { throw v(c); } } } function p (e) { if (!o.isBuffer(e) && "string" !== typeof e && "object" !== typeof e) { throw v("key must be a string, a buffer or an object"); } } function h (e) { return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"); } function d (e) { var t = 4 - (e = e.toString()).length % 4; if (4 !== t) { for (var r = 0; r < t; ++r) { e += "="; } } return e.replace(/\-/g,"+").replace(/_/g,"/"); } function v (e) { var t = [].slice.call(arguments,1),r = a.format.bind(a,e).apply(null,t); return new TypeError(r); } function g (e) { var t; return t = e,o.isBuffer(t) || "string" === typeof t || (e = JSON.stringify(e)),e; } function y (e) { return function (t,r) { !function (e) { if (!o.isBuffer(e)) { if ("string" === typeof e) { return e; } if (!f) { throw v(u); } if ("object" !== typeof e) { throw v(u); } if ("secret" !== e.type) { throw v(u); } if ("function" !== typeof e.export) { throw v(u); } } }(r),t = g(t); var n = i.createHmac(`sha${e}`,r); return h((n.update(t),n.digest("base64"))); }; } function m (e) { return function (t,r,i) { var s = y(e)(t,i); return n(o.from(r),o.from(s)); }; } function b (e) { return function (t,r) { p(r),t = g(t); var n = i.createSign(`RSA-SHA${e}`); return h((n.update(t),n.sign(r,"base64"))); }; } function w (e) { return function (t,r,n) { l(n),t = g(t),r = d(r); var o = i.createVerify(`RSA-SHA${e}`); return o.update(t),o.verify(n,r,"base64"); }; } function x (e) { return function (t,r) { p(r),t = g(t); var n = i.createSign(`RSA-SHA${e}`); return h((n.update(t),n.sign({key: r,padding: i.constants.RSA_PKCS1_PSS_PADDING,saltLength: i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"))); }; } function S (e) { return function (t,r,n) { l(n),t = g(t),r = d(r); var o = i.createVerify(`RSA-SHA${e}`); return o.update(t),o.verify({key: n,padding: i.constants.RSA_PKCS1_PSS_PADDING,saltLength: i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64"); }; } function E (e) { var t = b(e); return function () { var r = t.apply(null,arguments); return r = s.derToJose(r,`ES${e}`); }; } function C (e) { var t = w(e); return function (r,n,o) { return n = s.joseToDer(n,`ES${e}`).toString("base64"),t(r,n,o); }; } function j () { return function () { return ""; }; } function _ () { return function (e,t) { return "" === t; }; }f && (c += " or a KeyObject",u += "or a KeyObject"),e.exports = function (e) { var t = {hs: y,rs: b,ps: x,es: E,none: j},r = {hs: m,rs: w,ps: S,es: C,none: _},n = e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i); if (!n) { throw v('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e); } var o = (n[1] || n[3]).toLowerCase(),i = n[2]; return {sign: t[o](i),verify: r[o](i)}; }; },function (e,t,r) { "use strict"; var n = r(4).Buffer,o = r(106); function i (e) { if (n.isBuffer(e)) { return e; } if ("string" === typeof e) { return n.from(e,"base64"); } throw new TypeError("ECDSA signature must be a Base64 string or a Buffer"); } function s (e,t,r) { for (var n = 0; t + n < r && 0 === e[t + n];) { ++n; } return e[t + n] >= 128 && --n,n; }e.exports = {derToJose: function (e,t) { e = i(e); var r = o(t),s = r + 1,a = e.length,u = 0; if (48 !== e[u++]) { throw new Error('Could not find expected "seq"'); } var c = e[u++]; if (129 === c && (c = e[u++]),a - u < c) { throw new Error(`"seq" specified length of "${c}", only "${a - u}" remaining`); } if (2 !== e[u++]) { throw new Error('Could not find expected "int" for "r"'); } var f = e[u++]; if (a - u - 2 < f) { throw new Error(`"r" specified length of "${f}", only "${a - u - 2}" available`); } if (s < f) { throw new Error(`"r" specified length of "${f}", max of "${s}" is acceptable`); } var l = u; if (u += f,2 !== e[u++]) { throw new Error('Could not find expected "int" for "s"'); } var p = e[u++]; if (a - u !== p) { throw new Error(`"s" specified length of "${p}", expected "${a - u}"`); } if (s < p) { throw new Error(`"s" specified length of "${p}", max of "${s}" is acceptable`); } var h = u; if ((u += p) !== a) { throw new Error(`Expected to consume entire buffer, but "${a - u}" bytes remain`); } var d = r - f,v = r - p,g = n.allocUnsafe(d + f + v + p); for (u = 0; u < d; ++u) { g[u] = 0; }e.copy(g,u,l + Math.max(-d,0),l + f); for (var y = u = r; u < y + v; ++u) { g[u] = 0; } return e.copy(g,u,h + Math.max(-v,0),h + p),g = (g = g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"); },joseToDer: function (e,t) { e = i(e); var r = o(t),a = e.length; if (a !== 2 * r) { throw new TypeError(`"${t}" signatures must be "${2 * r}" bytes, saw "${a}"`); } var u = s(e,0,r),c = s(e,r,e.length),f = r - u,l = r - c,p = 2 + f + 1 + 1 + l,h = p < 128,d = n.allocUnsafe((h ? 2 : 3) + p),v = 0; return d[v++] = 48,h ? d[v++] = p : (d[v++] = 129,d[v++] = 255 & p),d[v++] = 2,d[v++] = f,u < 0 ? (d[v++] = 0,v += e.copy(d,v,0,r)) : v += e.copy(d,v,u,r),d[v++] = 2,d[v++] = l,c < 0 ? (d[v++] = 0,e.copy(d,v,r)) : e.copy(d,v,r + c),d; }}; },function (e,t,r) { var n = r(6).Buffer; e.exports = function (e) { return "string" === typeof e ? e : "number" === typeof e || n.isBuffer(e) ? e.toString() : JSON.stringify(e); }; },function (e,t,r) { var n = r(7),o = function (e,t) { n.call(this,e),this.name = "NotBeforeError",this.date = t; }; (o.prototype = Object.create(n.prototype)).constructor = o,e.exports = o; },function (e,t,r) { var n = r(7),o = function (e,t) { n.call(this,e),this.name = "TokenExpiredError",this.expiredAt = t; }; (o.prototype = Object.create(n.prototype)).constructor = o,e.exports = o; },function (e,t,r) { var n = r(9); e.exports = function (e,t) { var r = t || Math.floor(Date.now() / 1e3); if ("string" === typeof e) { var o = n(e); if (void 0 === o) { return; } return Math.floor(r + o / 1e3); } return "number" === typeof e ? r + e : void 0; }; },function (e,t,r) { var n = r(109); e.exports = n.satisfies(process.version,"^6.12.0 || >=8.0.0"); },function (e,t,r) { var n = r(16); e.exports = function () { return n.randomBytes(16); }; },function (e,t) { for (var r = [],n = 0; n < 256; ++n) { r[n] = (n + 256).toString(16).substr(1); }e.exports = function (e,t) { var n = t || 0,o = r; return [o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join(""); }; },function (e,t,r) { var n = r(50),o = r(52),i = r(53),s = r(54),a = r(55),u = r(118),c = function () { "use strict"; function e () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; i(this,e),this.customClaims = t.customClaims || {},this.issuer = t.issuer,this.verifier = u.createVerifier().setSigningAlgorithm("RS256").withKeyResolver(this.keyResolver); } var t; return s(e,[{key: "keyResolver",value: function (e,t) { return a({jwksUri: "".concat(this.issuer,"/v1/keys"),cacheMaxAge: 36e5,jwksRequestsPerMinute: 5,cacheMaxEntries: 4,rateLimit: !0,cache: !0}).getSigningKey(e,(function (e,r) { t(e,r && (r.publicKey || r.rsaPublicKey)); })); }},{key: "validateToken",value: (t = o(n.mark((function e (t) { return n.wrap((function (e) { for (;;) { switch (e.prev = e.next) { case 0:return e.abrupt("return",this.verifier.verify(t,(function (e,t) { if (e) { throw new Error(e); } return t.claims = t.body,t.body = void 0,t; }))); case 1:case "end":return e.stop(); } } }),e,this); }))),function (e) { return t.apply(this,arguments); })},{key: "verifyAccessToken",value: function (e,t) { var r = this.validateToken(e); if (!t) { throw new Error("Audience claim is required"); } if (Array.isArray(t) && !t.includes(r.claims.aud)) { throw new Error("Audience claim ".concat(r.claims.aud," does not match one of the expected audiences: ").concat(t.join(", "))); } if (!Array.isArray(t) && r.claims.aud !== t) { throw new Error("Audience claim ".concat(r.claims.aud," does not match expected audience: ").concat(t)); } if (r.claims.iss !== this.issuer) { throw new Error("Issuer claim ".concat(r.claims.iss," does not match expected issuer: ").concat(this.issuer)); } return r; }}]),e; }(); e.exports = c; },function (e,t,r) { e.exports = r(51); },function (e,t,r) { var n = function (e) { "use strict"; var t = Object.prototype,r = t.hasOwnProperty,n = "function" === typeof Symbol ? Symbol : {},o = n.iterator || "@@iterator",i = n.asyncIterator || "@@asyncIterator",s = n.toStringTag || "@@toStringTag"; function a (e,t,r,n) { var o = t && t.prototype instanceof f ? t : f,i = Object.create(o.prototype),s = new S(n || []); return i._invoke = function (e,t,r) { var n = "suspendedStart"; return function (o,i) { if ("executing" === n) { throw new Error("Generator is already running"); } if ("completed" === n) { if ("throw" === o) { throw i; } return C(); } for (r.method = o,r.arg = i; ;) { var s = r.delegate; if (s) { var a = b(s,r); if (a) { if (a === c) { continue; } return a; } } if ("next" === r.method) { r.sent = r._sent = r.arg; } else if ("throw" === r.method) { if ("suspendedStart" === n) { throw n = "completed",r.arg; } r.dispatchException(r.arg); } else { "return" === r.method && r.abrupt("return",r.arg); } n = "executing"; var f = u(e,t,r); if ("normal" === f.type) { if (n = r.done ? "completed" : "suspendedYield",f.arg === c) { continue; } return {value: f.arg,done: r.done}; }"throw" === f.type && (n = "completed",r.method = "throw",r.arg = f.arg); } }; }(e,r,s),i; } function u (e,t,r) { try { return {type: "normal",arg: e.call(t,r)}; } catch (e) { return {type: "throw",arg: e}; } }e.wrap = a; var c = {}; function f () {} function l () {} function p () {} var h = {}; h[o] = function () { return this; }; var d = Object.getPrototypeOf,v = d && d(d(E([]))); v && v !== t && r.call(v,o) && (h = v); var g = p.prototype = f.prototype = Object.create(h); function y (e) { ["next","throw","return"].forEach((function (t) { e[t] = function (e) { return this._invoke(t,e); }; })); } function m (e,t) { var n; this._invoke = function (o,i) { function s () { return new t((function (n,s) { !function n (o,i,s,a) { var c = u(e[o],e,i); if ("throw" !== c.type) { var f = c.arg,l = f.value; return l && "object" === typeof l && r.call(l,"__await") ? t.resolve(l.__await).then((function (e) { n("next",e,s,a); }),(function (e) { n("throw",e,s,a); })) : t.resolve(l).then((function (e) { f.value = e,s(f); }),(function (e) { return n("throw",e,s,a); })); }a(c.arg); }(o,i,n,s); })); } return n = n ? n.then(s,s) : s(); }; } function b (e,t) { var r = e.iterator[t.method]; if (void 0 === r) { if (t.delegate = null,"throw" === t.method) { if (e.iterator.return && (t.method = "return",t.arg = void 0,b(e,t),"throw" === t.method)) { return c; } t.method = "throw",t.arg = new TypeError("The iterator does not provide a 'throw' method"); } return c; } var n = u(r,e.iterator,t.arg); if ("throw" === n.type) { return t.method = "throw",t.arg = n.arg,t.delegate = null,c; } var o = n.arg; return o ? o.done ? (t[e.resultName] = o.value,t.next = e.nextLoc,"return" !== t.method && (t.method = "next",t.arg = void 0),t.delegate = null,c) : o : (t.method = "throw",t.arg = new TypeError("iterator result is not an object"),t.delegate = null,c); } function w (e) { var t = {tryLoc: e[0]}; 1 in e && (t.catchLoc = e[1]),2 in e && (t.finallyLoc = e[2],t.afterLoc = e[3]),this.tryEntries.push(t); } function x (e) { var t = e.completion || {}; t.type = "normal",delete t.arg,e.completion = t; } function S (e) { this.tryEntries = [{tryLoc: "root"}],e.forEach(w,this),this.reset(!0); } function E (e) { if (e) { var t = e[o]; if (t) { return t.call(e); } if ("function" === typeof e.next) { return e; } if (!isNaN(e.length)) { var n = -1,i = function t () { for (;++n < e.length;) { if (r.call(e,n)) { return t.value = e[n],t.done = !1,t; } } return t.value = void 0,t.done = !0,t; }; return i.next = i; } } return {next: C}; } function C () { return {value: void 0,done: !0}; } return l.prototype = g.constructor = p,p.constructor = l,p[s] = l.displayName = "GeneratorFunction",e.isGeneratorFunction = function (e) { var t = "function" === typeof e && e.constructor; return Boolean(t) && (t === l || "GeneratorFunction" === (t.displayName || t.name)); },e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e,p) : (e.__proto__ = p,s in e || (e[s] = "GeneratorFunction")),e.prototype = Object.create(g),e; },e.awrap = function (e) { return {__await: e}; },y(m.prototype),m.prototype[i] = function () { return this; },e.AsyncIterator = m,e.async = function (t,r,n,o,i) { void 0 === i && (i = Promise); var s = new m(a(t,r,n,o),i); return e.isGeneratorFunction(r) ? s : s.next().then((function (e) { return e.done ? e.value : s.next(); })); },y(g),g[s] = "Generator",g[o] = function () { return this; },g.toString = function () { return "[object Generator]"; },e.keys = function (e) { var t = []; for (var r in e) { t.push(r); } return t.reverse(),function r () { for (;t.length;) { var n = t.pop(); if (n in e) { return r.value = n,r.done = !1,r; } } return r.done = !0,r; }; },e.values = E,S.prototype = {constructor: S,reset: function (e) { if (this.prev = 0,this.next = 0,this.sent = this._sent = void 0,this.done = !1,this.delegate = null,this.method = "next",this.arg = void 0,this.tryEntries.forEach(x),!e) { for (var t in this) { "t" === t.charAt(0) && r.call(this,t) && !isNaN(Number(t.slice(1))) && (this[t] = void 0); } } },stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) { throw e.arg; } return this.rval; },dispatchException: function (e) { if (this.done) { throw e; } var t = this; function n (r,n) { return s.type = "throw",s.arg = e,t.next = r,n && (t.method = "next",t.arg = void 0),Boolean(n); } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o],s = i.completion; if ("root" === i.tryLoc) { return n("end"); } if (i.tryLoc <= this.prev) { var a = r.call(i,"catchLoc"),u = r.call(i,"finallyLoc"); if (a && u) { if (this.prev < i.catchLoc) { return n(i.catchLoc,!0); } if (this.prev < i.finallyLoc) { return n(i.finallyLoc); } } else if (a) { if (this.prev < i.catchLoc) { return n(i.catchLoc,!0); } } else { if (!u) { throw new Error("try statement without catch or finally"); } if (this.prev < i.finallyLoc) { return n(i.finallyLoc); } } } } },abrupt: function (e,t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var o = this.tryEntries[n]; if (o.tryLoc <= this.prev && r.call(o,"finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } }i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null); var s = i ? i.completion : {}; return s.type = e,s.arg = t,i ? (this.method = "next",this.next = i.finallyLoc,c) : this.complete(s); },complete: function (e,t) { if ("throw" === e.type) { throw e.arg; } return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,this.method = "return",this.next = "end") : "normal" === e.type && t && (this.next = t),c; },finish: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.finallyLoc === e) { return this.complete(r.completion,r.afterLoc),x(r),c; } } },catch: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var r = this.tryEntries[t]; if (r.tryLoc === e) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; x(r); } return o; } } throw new Error("illegal catch attempt"); },delegateYield: function (e,t,r) { return this.delegate = {iterator: E(e),resultName: t,nextLoc: r},"next" === this.method && (this.arg = void 0),c; }},e; }(e.exports); try { regeneratorRuntime = n; } catch (e) { Function("r","regeneratorRuntime = r")(n); } },function (e,t) { function r (e,t,r,n,o,i,s) { try { var a = e[i](s),u = a.value; } catch (e) { return void r(e); }a.done ? t(u) : Promise.resolve(u).then(n,o); }e.exports = function (e) { return function () { var t = this,n = arguments; return new Promise((function (o,i) { var s = e.apply(t,n); function a (e) { r(s,o,i,a,u,"next",e); } function u (e) { r(s,o,i,a,u,"throw",e); }a(void 0); })); }; }; },function (e,t) { e.exports = function (e,t) { if (!(e instanceof t)) { throw new TypeError("Cannot call a class as a function"); } }; },function (e,t) { function r (e,t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1,n.configurable = !0,"value" in n && (n.writable = !0),Object.defineProperty(e,n.key,n); } }e.exports = function (e,t,n) { return t && r(e.prototype,t),n && r(e,n),e; }; },function (e,t,r) { "use strict"; var n = r(2),o = function (e) { if (e && e.__esModule) { return e; } var t = {}; if (null != e) { for (var r in e) { Object.prototype.hasOwnProperty.call(e,r) && (t[r] = e[r]); } } return t.default = e,t; }(r(3)),i = r(99),s = r(100),a = r(101),u = r(102); e.exports = function (e) { return new n.JwksClient(e); },e.exports.ArgumentError = o.ArgumentError,e.exports.JwksError = o.JwksError,e.exports.JwksRateLimitError = o.JwksRateLimitError,e.exports.SigningKeyNotFoundError = o.SigningKeyNotFoundError,e.exports.expressJwtSecret = s.expressJwtSecret,e.exports.hapiJwt2Key = i.hapiJwt2Key,e.exports.hapiJwt2KeyAsync = i.hapiJwt2KeyAsync,e.exports.koaJwtSecret = a.koaJwtSecret,e.exports.passportJwtSecret = u.passportJwtSecret; },function (e,t,r) { t.log = function (...e) { return "object" === typeof console && console.log && console.log(...e); },t.formatArgs = function (t) { if (t[0] = `${(this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ")}+${e.exports.humanize(this.diff)}`,!this.useColors) { return; } const r = `color: ${this.color}`; t.splice(1,0,r,"color: inherit"); let n = 0,o = 0; t[0].replace(/%[a-zA-Z%]/g,e => { "%%" !== e && (n++,"%c" === e && (o = n)); }),t.splice(o,0,r); },t.save = function (e) { try { e ? t.storage.setItem("debug",e) : t.storage.removeItem("debug"); } catch (e) {} },t.load = function () { let e; try { e = t.storage.getItem("debug"); } catch (e) {}!e && "undefined" !== typeof process && "env" in process && (e = process.env.DEBUG); return e; },t.useColors = function () { if ("undefined" !== typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs)) { return !0; } if ("undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) { return !1; } return "undefined" !== typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" !== typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1,10) >= 31 || "undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/); },t.storage = function () { try { return localStorage; } catch (e) {} }(),t.colors = ["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports = r(17)(t); const {formatters: n} = e.exports; n.j = function (e) { try { return JSON.stringify(e); } catch (e) { return `[UnexpectedJSONParseError]: ${e.message}`; } }; },function (e,t,r) { const n = r(18),o = r(1); t.init = function (e) { e.inspectOpts = {}; const r = Object.keys(t.inspectOpts); for (let n = 0; n < r.length; n++) { e.inspectOpts[r[n]] = t.inspectOpts[r[n]]; } },t.log = function (...e) { return process.stderr.write(`${o.format(...e)}\n`); },t.formatArgs = function (r) { const {namespace: n,useColors: o} = this; if (o) { const t = this.color,o = `[3${t < 8 ? t : `8;5;${t}`}`,i = `  ${o};1m${n} [0m`; r[0] = i + r[0].split("\n").join(`\n${i}`),r.push(`${o}m+${e.exports.humanize(this.diff)}[0m`); } else { r[0] = `${function () { if (t.inspectOpts.hideDate) { return ""; } return `${(new Date()).toISOString()} `; }() + n} ${r[0]}`; } },t.save = function (e) { e ? process.env.DEBUG = e : delete process.env.DEBUG; },t.load = function () { return process.env.DEBUG; },t.useColors = function () { return "colors" in t.inspectOpts ? Boolean(t.inspectOpts.colors) : n.isatty(process.stderr.fd); },t.colors = [6,2,3,4,5,1]; try { const e = r(19); e && (e.stderr || e).level >= 2 && (t.colors = [20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]); } catch (e) {}t.inspectOpts = Object.keys(process.env).filter(e => /^debug_/i.test(e)).reduce((e,t) => { const r = t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t) => t.toUpperCase()); let n = process.env[t]; return n = Boolean(/^(yes|on|true|enabled)$/i.test(n)) || !/^(no|off|false|disabled)$/i.test(n) && ("null" === n ? null : Number(n)),e[r] = n,e; },{}),e.exports = r(17)(t); const {formatters: i} = e.exports; i.o = function (e) { return this.inspectOpts.colors = this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," "); },i.O = function (e) { return this.inspectOpts.colors = this.useColors,o.inspect(e,this.inspectOpts); }; },function (e,t) { e.exports = require("os"); },function (e,t,r) { "use strict"; e.exports = (e,t) => { t = t || process.argv; const r = e.startsWith("-") ? "" : 1 === e.length ? "-" : "--",n = t.indexOf(r + e),o = t.indexOf("--"); return -1 !== n && (-1 === o || n < o); }; },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}); var n = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) { Object.prototype.hasOwnProperty.call(r,n) && (e[n] = r[n]); } } return e; },o = function (e,t) { if (Array.isArray(e)) { return e; } if (Symbol.iterator in Object(e)) { return function (e,t) { var r = [],n = !0,o = !1,i = void 0; try { for (var s,a = e[Symbol.iterator](); !(n = (s = a.next()).done) && (r.push(s.value),!t || r.length !== t); n = !0) { } } catch (e) { o = !0,i = e; } finally { try { !n && a.return && a.return(); } finally { if (o) { throw i; } } } return r; }(e,t); } throw new TypeError("Invalid attempt to destructure non-iterable instance"); }; t.default = function (e,t) { var r = {baseURL: e.uri,headers: e.headers,timeout: e.timeout}; if (e.proxy) { var c = a.default.parse(e.proxy),f = c.auth.split(":"),l = o(f,2),p = l[0],h = l[1]; r.proxy = {host: c.hostname,port: c.port,auth: {username: p,password: h}}; } if (e.agentOptions || e.strictSSL) { var d = n({},e.strictSSL && {rejectUnauthorized: e.strictSSL},e.agentOptions); r.httpAgent = new i.default.Agent(d),r.httpsAgent = new s.default.Agent(d); }(0,u.request)(r).then((function (e) { return t(null,e); })).catch((function (e) { return t(e); })); }; var i = c(r(10)),s = c(r(11)),a = c(r(12)),u = r(61); function c (e) { return e && e.__esModule ? e : {default: e}; } },function (e,t,r) { e.exports = r(62); },function (e,t,r) { "use strict"; var n = r(0),o = r(20),i = r(63),s = r(28); function a (e) { var t = new i(e),r = o(i.prototype.request,t); return n.extend(r,i.prototype,t),n.extend(r,t),r; } var u = a(r(22)); u.Axios = i,u.create = function (e) { return a(s(u.defaults,e)); },u.Cancel = r(29),u.CancelToken = r(82),u.isCancel = r(21),u.all = function (e) { return Promise.all(e); },u.spread = r(83),e.exports = u,e.exports.default = u; },function (e,t,r) { "use strict"; var n = r(0),o = r(13),i = r(64),s = r(65),a = r(28); function u (e) { this.defaults = e,this.interceptors = {request: new i(),response: new i()}; }u.prototype.request = function (e) { "string" === typeof e ? (e = arguments[1] || {}).url = arguments[0] : e = e || {},(e = a(this.defaults,e)).method ? e.method = e.method.toLowerCase() : this.defaults.method ? e.method = this.defaults.method.toLowerCase() : e.method = "get"; var t = [s,void 0],r = Promise.resolve(e); for (this.interceptors.request.forEach((function (e) { t.unshift(e.fulfilled,e.rejected); })),this.interceptors.response.forEach((function (e) { t.push(e.fulfilled,e.rejected); })); t.length;) { r = r.then(t.shift(),t.shift()); } return r; },u.prototype.getUri = function (e) { return e = a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,""); },n.forEach(["delete","get","head","options"],(function (e) { u.prototype[e] = function (t,r) { return this.request(n.merge(r || {},{method: e,url: t})); }; })),n.forEach(["post","put","patch"],(function (e) { u.prototype[e] = function (t,r,o) { return this.request(n.merge(o || {},{method: e,url: t,data: r})); }; })),e.exports = u; },function (e,t,r) { "use strict"; var n = r(0); function o () { this.handlers = []; }o.prototype.use = function (e,t) { return this.handlers.push({fulfilled: e,rejected: t}),this.handlers.length - 1; },o.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null); },o.prototype.forEach = function (e) { n.forEach(this.handlers,(function (t) { null !== t && e(t); })); },e.exports = o; },function (e,t,r) { "use strict"; var n = r(0),o = r(66),i = r(21),s = r(22); function a (e) { e.cancelToken && e.cancelToken.throwIfRequested(); }e.exports = function (e) { return a(e),e.headers = e.headers || {},e.data = o(e.data,e.headers,e.transformRequest),e.headers = n.merge(e.headers.common || {},e.headers[e.method] || {},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function (t) { delete e.headers[t]; })),(e.adapter || s.adapter)(e).then((function (t) { return a(e),t.data = o(t.data,t.headers,e.transformResponse),t; }),(function (t) { return i(t) || (a(e),t && t.response && (t.response.data = o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t); })); }; },function (e,t,r) { "use strict"; var n = r(0); e.exports = function (e,t,r) { return n.forEach(r,(function (r) { e = r(e,t); })),e; }; },function (e,t,r) { "use strict"; var n = r(0); e.exports = function (e,t) { n.forEach(e,(function (r,n) { n !== t && n.toUpperCase() === t.toUpperCase() && (e[t] = r,delete e[n]); })); }; },function (e,t,r) { "use strict"; var n = r(0),o = r(23),i = r(13),s = r(25),a = r(71),u = r(72),c = r(14); e.exports = function (e) { return new Promise((function (t,f) { var l = e.data,p = e.headers; n.isFormData(l) && delete p["Content-Type"]; var h = new XMLHttpRequest(); if (e.auth) { var d = e.auth.username || "",v = e.auth.password || ""; p.Authorization = `Basic ${btoa(`${d}:${v}`)}`; } var g = s(e.baseURL,e.url); if (h.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),h.timeout = e.timeout,h.onreadystatechange = function () { if (h && 4 === h.readyState && (0 !== h.status || h.responseURL && 0 === h.responseURL.indexOf("file:"))) { var r = "getAllResponseHeaders" in h ? a(h.getAllResponseHeaders()) : null,n = {data: e.responseType && "text" !== e.responseType ? h.response : h.responseText,status: h.status,statusText: h.statusText,headers: r,config: e,request: h}; o(t,f,n),h = null; } },h.onabort = function () { h && (f(c("Request aborted",e,"ECONNABORTED",h)),h = null); },h.onerror = function () { f(c("Network Error",e,null,h)),h = null; },h.ontimeout = function () { var t = `timeout of ${e.timeout}ms exceeded`; e.timeoutErrorMessage && (t = e.timeoutErrorMessage),f(c(t,e,"ECONNABORTED",h)),h = null; },n.isStandardBrowserEnv()) { var y = r(73),m = (e.withCredentials || u(g)) && e.xsrfCookieName ? y.read(e.xsrfCookieName) : void 0; m && (p[e.xsrfHeaderName] = m); } if ("setRequestHeader" in h && n.forEach(p,(function (e,t) { void 0 === l && "content-type" === t.toLowerCase() ? delete p[t] : h.setRequestHeader(t,e); })),n.isUndefined(e.withCredentials) || (h.withCredentials = Boolean(e.withCredentials)),e.responseType) { try { h.responseType = e.responseType; } catch (t) { if ("json" !== e.responseType) { throw t; } } }"function" === typeof e.onDownloadProgress && h.addEventListener("progress",e.onDownloadProgress),"function" === typeof e.onUploadProgress && h.upload && h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken && e.cancelToken.promise.then((function (e) { h && (h.abort(),f(e),h = null); })),void 0 === l && (l = null),h.send(l); })); }; },function (e,t,r) { "use strict"; e.exports = function (e) { return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e); }; },function (e,t,r) { "use strict"; e.exports = function (e,t) { return t ? `${e.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}` : e; }; },function (e,t,r) { "use strict"; var n = r(0),o = ["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]; e.exports = function (e) { var t,r,i,s = {}; return e ? (n.forEach(e.split("\n"),(function (e) { if (i = e.indexOf(":"),t = n.trim(e.substr(0,i)).toLowerCase(),r = n.trim(e.substr(i + 1)),t) { if (s[t] && o.indexOf(t) >= 0) { return; } s[t] = "set-cookie" === t ? (s[t] ? s[t] : []).concat([r]) : s[t] ? `${s[t]}, ${r}` : r; } })),s) : s; }; },function (e,t,r) { "use strict"; var n = r(0); e.exports = n.isStandardBrowserEnv() ? function () { var e,t = /(msie|trident)/i.test(navigator.userAgent),r = document.createElement("a"); function o (e) { var n = e; return t && (r.setAttribute("href",n),n = r.href),r.setAttribute("href",n),{href: r.href,protocol: r.protocol ? r.protocol.replace(/:$/,"") : "",host: r.host,search: r.search ? r.search.replace(/^\?/,"") : "",hash: r.hash ? r.hash.replace(/^#/,"") : "",hostname: r.hostname,port: r.port,pathname: "/" === r.pathname.charAt(0) ? r.pathname : `/${r.pathname}`}; } return e = o(window.location.href),function (t) { var r = n.isString(t) ? o(t) : t; return r.protocol === e.protocol && r.host === e.host; }; }() : function () { return !0; }; },function (e,t,r) { "use strict"; var n = r(0); e.exports = n.isStandardBrowserEnv() ? {write: function (e,t,r,o,i,s) { var a = []; a.push(`${e}=${encodeURIComponent(t)}`),n.isNumber(r) && a.push(`expires=${new Date(r).toGMTString()}`),n.isString(o) && a.push(`path=${o}`),n.isString(i) && a.push(`domain=${i}`),!0 === s && a.push("secure"),document.cookie = a.join("; "); },read: function (e) { var t = document.cookie.match(new RegExp(`(^|;\\s*)(${e})=([^;]*)`)); return t ? decodeURIComponent(t[3]) : null; },remove: function (e) { this.write(e,"",Date.now() - 864e5); }} : {write: function () {},read: function () { return null; },remove: function () {}}; },function (e,t,r) { "use strict"; var n = r(0),o = r(23),i = r(25),s = r(13),a = r(10),u = r(11),c = r(26).http,f = r(26).https,l = r(12),p = r(80),h = r(81),d = r(14),v = r(24),g = /https:?/; e.exports = function (e) { return new Promise((function (t,r) { var y = function (e) { t(e); },m = function (e) { r(e); },b = e.data,w = e.headers; if (w["User-Agent"] || w["user-agent"] || (w["User-Agent"] = `axios/${h.version}`),b && !n.isStream(b)) { if (Buffer.isBuffer(b)) { } else if (n.isArrayBuffer(b)) { b = Buffer.from(new Uint8Array(b)); } else { if (!n.isString(b)) { return m(d("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e)); } b = Buffer.from(b,"utf-8"); }w["Content-Length"] = b.length; } var x = void 0; e.auth && (x = `${e.auth.username || ""}:${e.auth.password || ""}`); var S = i(e.baseURL,e.url),E = l.parse(S),C = E.protocol || "http:"; if (!x && E.auth) { var j = E.auth.split(":"); x = `${j[0] || ""}:${j[1] || ""}`; }x && delete w.Authorization; var _ = g.test(C),k = _ ? e.httpsAgent : e.httpAgent,A = {path: s(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method: e.method.toUpperCase(),headers: w,agent: k,agents: {http: e.httpAgent,https: e.httpsAgent},auth: x}; e.socketPath ? A.socketPath = e.socketPath : (A.hostname = E.hostname,A.port = E.port); var O,R = e.proxy; if (!R && !1 !== R) { var T = `${C.slice(0,-1)}_proxy`,F = process.env[T] || process.env[T.toUpperCase()]; if (F) { var P = l.parse(F),I = process.env.no_proxy || process.env.NO_PROXY,N = !0; if (I) { N = !I.split(",").map((function (e) { return e.trim(); })).some((function (e) { return Boolean(e) && ("*" === e || ("." === e[0] && E.hostname.substr(E.hostname.length - e.length) === e || E.hostname === e)); })); } if (N && (R = {host: P.hostname,port: P.port},P.auth)) { var B = P.auth.split(":"); R.auth = {username: B[0],password: B[1]}; } } } if (R && (A.hostname = R.host,A.host = R.host,A.headers.host = E.hostname + (E.port ? `:${E.port}` : ""),A.port = R.port,A.path = `${C}//${E.hostname}${E.port ? `:${E.port}` : ""}${A.path}`,R.auth)) { var L = Buffer.from(`${R.auth.username}:${R.auth.password}`,"utf8").toString("base64"); A.headers["Proxy-Authorization"] = `Basic ${L}`; } var M = _ && (!R || g.test(R.protocol)); e.transport ? O = e.transport : 0 === e.maxRedirects ? O = M ? u : a : (e.maxRedirects && (A.maxRedirects = e.maxRedirects),O = M ? f : c),e.maxContentLength && e.maxContentLength > -1 && (A.maxBodyLength = e.maxContentLength); var K = O.request(A,(function (t) { if (!K.aborted) { var r = t; switch (t.headers["content-encoding"]) { case "gzip":case "compress":case "deflate":r = 204 === t.statusCode ? r : r.pipe(p.createUnzip()),delete t.headers["content-encoding"]; } var n = t.req || K,i = {status: t.statusCode,statusText: t.statusMessage,headers: t.headers,config: e,request: n}; if ("stream" === e.responseType) { i.data = r,o(y,m,i); } else { var s = []; r.on("data",(function (t) { s.push(t),e.maxContentLength > -1 && Buffer.concat(s).length > e.maxContentLength && (r.destroy(),m(d(`maxContentLength size of ${e.maxContentLength} exceeded`,e,null,n))); })),r.on("error",(function (t) { K.aborted || m(v(t,e,null,n)); })),r.on("end",(function () { var t = Buffer.concat(s); "arraybuffer" !== e.responseType && (t = t.toString(e.responseEncoding)),i.data = t,o(y,m,i); })); } } })); K.on("error",(function (t) { K.aborted || m(v(t,e,null,K)); })),e.timeout && K.setTimeout(e.timeout,(function () { K.abort(),m(d(`timeout of ${e.timeout}ms exceeded`,e,"ECONNABORTED",K)); })),e.cancelToken && e.cancelToken.promise.then((function (e) { K.aborted || (K.abort(),m(e)); })),n.isStream(b) ? b.on("error",(function (t) { m(v(t,e,null,K)); })).pipe(K) : K.end(b); })); }; },function (e,t) { e.exports = require("assert"); },function (e,t,r) { "undefined" === typeof process || "renderer" === process.type ? e.exports = r(77) : e.exports = r(79); },function (e,t,r) { function n () { var e; try { e = t.storage.debug; } catch (e) {} return !e && "undefined" !== typeof process && "env" in process && (e = process.env.DEBUG),e; }(t = e.exports = r(27)).log = function () { return "object" === typeof console && console.log && Function.prototype.apply.call(console.log,console,arguments); },t.formatArgs = function (e) { var r = this.useColors; if (e[0] = `${(r ? "%c" : "") + this.namespace + (r ? " %c" : " ") + e[0] + (r ? "%c " : " ")}+${t.humanize(this.diff)}`,!r) { return; } var n = `color: ${this.color}`; e.splice(1,0,n,"color: inherit"); var o = 0,i = 0; e[0].replace(/%[a-zA-Z%]/g,(function (e) { "%%" !== e && (o++,"%c" === e && (i = o)); })),e.splice(i,0,n); },t.save = function (e) { try { null == e ? t.storage.removeItem("debug") : t.storage.debug = e; } catch (e) {} },t.load = n,t.useColors = function () { if ("undefined" !== typeof window && window.process && "renderer" === window.process.type) { return !0; } if ("undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) { return !1; } return "undefined" !== typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" !== typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1,10) >= 31 || "undefined" !== typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/); },t.storage = "undefined" !== typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function () { try { return window.localStorage; } catch (e) {} }(),t.colors = ["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j = function (e) { try { return JSON.stringify(e); } catch (e) { return `[UnexpectedJSONParseError]: ${e.message}`; } },t.enable(n()); },function (e,t) { var r = 1e3,n = 6e4,o = 60 * n,i = 24 * o; function s (e,t,r) { if (!(e < t)) { return e < 1.5 * t ? `${Math.floor(e / t)} ${r}` : `${Math.ceil(e / t)} ${r}s`; } }e.exports = function (e,t) { t = t || {}; var a,u = typeof e; if ("string" === u && e.length > 0) { return function (e) { if ((e = String(e)).length > 100) { return; } var t = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e); if (!t) { return; } var s = parseFloat(t[1]); switch ((t[2] || "ms").toLowerCase()) { case "years":case "year":case "yrs":case "yr":case "y":return 315576e5 * s; case "days":case "day":case "d":return s * i; case "hours":case "hour":case "hrs":case "hr":case "h":return s * o; case "minutes":case "minute":case "mins":case "min":case "m":return s * n; case "seconds":case "second":case "secs":case "sec":case "s":return s * r; case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return s; default:return; } }(e); } if ("number" === u && !1 === isNaN(e)) { return t.long ? s(a = e,i,"day") || s(a,o,"hour") || s(a,n,"minute") || s(a,r,"second") || `${a} ms` : function (e) { if (e >= i) { return `${Math.round(e / i)}d`; } if (e >= o) { return `${Math.round(e / o)}h`; } if (e >= n) { return `${Math.round(e / n)}m`; } if (e >= r) { return `${Math.round(e / r)}s`; } return `${e}ms`; }(e); } throw new Error(`val is not a non-empty string or a valid number. val=${JSON.stringify(e)}`); }; },function (e,t,r) { var n = r(18),o = r(1); (t = e.exports = r(27)).init = function (e) { e.inspectOpts = {}; for (var r = Object.keys(t.inspectOpts),n = 0; n < r.length; n++) { e.inspectOpts[r[n]] = t.inspectOpts[r[n]]; } },t.log = function () { return process.stderr.write(`${o.format.apply(o,arguments)}\n`); },t.formatArgs = function (e) { var r = this.namespace; if (this.useColors) { var n = this.color,o = `[3${n < 8 ? n : `8;5;${n}`}`,i = `  ${o};1m${r} [0m`; e[0] = i + e[0].split("\n").join(`\n${i}`),e.push(`${o}m+${t.humanize(this.diff)}[0m`); } else { e[0] = `${(t.inspectOpts.hideDate ? "" : `${(new Date()).toISOString()} `) + r} ${e[0]}`; } },t.save = function (e) { null == e ? delete process.env.DEBUG : process.env.DEBUG = e; },t.load = s,t.useColors = function () { return "colors" in t.inspectOpts ? Boolean(t.inspectOpts.colors) : n.isatty(process.stderr.fd); },t.colors = [6,2,3,4,5,1]; try { var i = r(19); i && i.level >= 2 && (t.colors = [20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]); } catch (e) {} function s () { return process.env.DEBUG; }t.inspectOpts = Object.keys(process.env).filter((function (e) { return /^debug_/i.test(e); })).reduce((function (e,t) { var r = t.substring(6).toLowerCase().replace(/_([a-z])/g,(function (e,t) { return t.toUpperCase(); })),n = process.env[t]; return n = Boolean(/^(yes|on|true|enabled)$/i.test(n)) || !/^(no|off|false|disabled)$/i.test(n) && ("null" === n ? null : Number(n)),e[r] = n,e; }),{}),t.formatters.o = function (e) { return this.inspectOpts.colors = this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((function (e) { return e.trim(); })).join(" "); },t.formatters.O = function (e) { return this.inspectOpts.colors = this.useColors,o.inspect(e,this.inspectOpts); },t.enable(s()); },function (e,t) { e.exports = require("zlib"); },function (e) { e.exports = JSON.parse('{"name":"axios","version":"0.19.2","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"typings":"./index.d.ts","dependencies":{"follow-redirects":"1.5.10"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}'); },function (e,t,r) { "use strict"; var n = r(29); function o (e) { if ("function" !== typeof e) { throw new TypeError("executor must be a function."); } var t; this.promise = new Promise((function (e) { t = e; })); var r = this; e((function (e) { r.reason || (r.reason = new n(e),t(r.reason)); })); }o.prototype.throwIfRequested = function () { if (this.reason) { throw this.reason; } },o.source = function () { var e; return {token: new o((function (t) { e = t; })),cancel: e}; },e.exports = o; },function (e,t,r) { "use strict"; e.exports = function (e) { return function (t) { return e.apply(null,t); }; }; },function (e,t,r) { "use strict"; function n (e) { var t = e[0]; return t < "0" || t > "7" ? `00${e}` : e; } function o (e) { var t = e.toString(16); return t.length % 2 ? `0${t}` : t; } function i (e) { if (e <= 127) { return o(e); } var t = o(e); return o(128 + t.length / 2) + t; }Object.defineProperty(t,"__esModule",{value: !0}),t.certToPEM = function (e) { return e = `-----BEGIN CERTIFICATE-----\n${e = e.match(/.{1,64}/g).join("\n")}\n-----END CERTIFICATE-----\n`; },t.rsaPublicKeyToPEM = function (e,t) { var r = new Buffer(e,"base64"),o = new Buffer(t,"base64"),s = n(r.toString("hex")),a = n(o.toString("hex")),u = s.length / 2,c = a.length / 2,f = i(u),l = i(c),p = `30${i(u + c + f.length / 2 + l.length / 2 + 2)}02${f}${s}02${l}${a}`,h = new Buffer(p,"hex").toString("base64"),d = "-----BEGIN RSA PUBLIC KEY-----\n"; return d += `${h.match(/.{1,64}/g).join("\n")}`,d += "\n-----END RSA PUBLIC KEY-----\n"; }; },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.rateLimitSigningKey = t.cacheSigningKey = void 0; var n = i(r(86)),o = i(r(94)); function i (e) { return e && e.__esModule ? e : {default: e}; }t.cacheSigningKey = n.default,t.rateLimitSigningKey = o.default; },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.default = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : options,r = t.cacheMaxEntries,s = void 0 === r ? 5 : r,a = t.cacheMaxAge,u = void 0 === a ? (0,n.default)("10m") : a,c = (0,o.default)("jwks"),f = e.getSigningKey; return c(`Configured caching of singing keys. Max: ${s} / Age: ${u}`),(0,i.default)({load: function (e,t) { f(e,(function (r,n) { return r ? t(r) : (c(`Caching signing key for '${e}':`,n),t(null,n)); })); },hash: function (e) { return e; },maxAge: u,max: s}); }; var n = s(r(9)),o = s(r(8)),i = s(r(87)); function s (e) { return e && e.__esModule ? e : {default: e}; } },function (e,t,r) { "use strict"; var n = r(88); e.exports = n.asyncMemoizer; },function (e,t,r) { "use strict"; var n = this && this.__read || function (e,t) { var r = "function" === typeof Symbol && e[Symbol.iterator]; if (!r) { return e; } var n,o,i = r.call(e),s = []; try { for (;(void 0 === t || t-- > 0) && !(n = i.next()).done;) { s.push(n.value); } } catch (e) { o = {error: e}; } finally { try { n && !n.done && (r = i.return) && r.call(i); } finally { if (o) { throw o.error; } } } return s; },o = this && this.__spread || function () { for (var e = [],t = 0; t < arguments.length; t++) { e = e.concat(n(arguments[t])); } return e; },i = this && this.__values || function (e) { var t = "function" === typeof Symbol && e[Symbol.iterator],r = 0; return t ? t.call(e) : {next: function () { return e && r >= e.length && (e = void 0),{value: e && e[r++],done: !e}; }}; },s = this && this.__importDefault || function (e) { return e && e.__esModule ? e : {default: e}; }; Object.defineProperty(t,"__esModule",{value: !0}); var a = s(r(32)),u = r(33),c = s(r(34)),f = r(35),l = r(93); function p (e) { var t = new a.default(e),r = e.load,n = e.hash,s = e.bypass,l = e.itemMaxAge,p = e.freeze,h = e.clone,d = e.queueMaxAge || 1e3,v = new Map(),g = new u.EventEmitter(),y = Object.assign({del: function () { for (var e = [],r = 0; r < arguments.length; r++) { e[r] = arguments[r]; } var i = n.apply(void 0,o(e)); t.del(i); },reset: function () { return t.reset(); },keys: t.keys.bind(t),on: g.on.bind(g),once: g.once.bind(g)},e); if (e.disable) { return Object.assign(r,y); } function m (e,r,n) { p && n.forEach(f.deepFreeze),l ? t.set(e,n,l.apply(void 0,o(r.concat(n)))) : t.set(e,n); } function b (e,t) { var r,n; try { for (var s = i(e),a = s.next(); !a.done; a = s.next()) { var u = a.value; h ? setImmediate.apply(void 0,o([u],t.map(c.default))) : setImmediate.apply(void 0,o([u],t)); } } catch (e) { r = {error: e}; } finally { try { a && !a.done && (n = s.return) && n.call(s); } finally { if (r) { throw r.error; } } } } function w (e) { for (var t = [],r = 1; r < arguments.length; r++) { t[r - 1] = arguments[r]; }g.emit.apply(g,o([e],t)); } return Object.assign((function () { for (var e = [],i = 0; i < arguments.length; i++) { e[i] = arguments[i]; } var a,u = e.slice(0,-1),c = e.slice(-1).pop(); if (s && s.apply(void 0,o(u))) { return w.apply(void 0,o(["miss"],u)),r.apply(void 0,o(e)); } a = 0 !== u.length || n ? n.apply(void 0,o(u)) : "_"; var f = t.get(a); if (f) { return w.apply(void 0,o(["hit"],u)),b([c],[null].concat(f)); } var l = v.get(a); if (l && l.expiresAt > Date.now()) { return l.queue.push(c),void w.apply(void 0,o(["queue"],u)); } w.apply(void 0,o(["miss"],u)); var p = Date.now(),h = [c]; v.set(a,{queue: h,expiresAt: p + d}); var g = function () { for (var e = [],t = 0; t < arguments.length; t++) { e[t] = arguments[t]; } var r = e[0]; r || m(a,u,e.slice(1)),v.delete(a),w.apply(void 0,o(["loaded",Date.now() - p],u)),b(h,e); }; r.apply(void 0,o(u,[g])); }),y); }t.asyncMemoizer = p,p.sync = l.syncMemoizer; },function (e,t,r) { "pseudomap" === process.env.npm_package_name && "test" === process.env.npm_lifecycle_script && (process.env.TEST_PSEUDOMAP = "true"),"function" !== typeof Map || process.env.TEST_PSEUDOMAP ? e.exports = r(90) : e.exports = Map; },function (e,t) { var r = Object.prototype.hasOwnProperty; function n (e) { if (!(this instanceof n)) { throw new TypeError("Constructor PseudoMap requires 'new'"); } if (this.clear(),e) { if (e instanceof n || "function" === typeof Map && e instanceof Map) { e.forEach((function (e,t) { this.set(t,e); }),this); } else { if (!Array.isArray(e)) { throw new TypeError("invalid argument"); } e.forEach((function (e) { this.set(e[0],e[1]); }),this); } } } function o (e,t) { return e === t || e != e && t != t; } function i (e,t,r) { this.key = e,this.value = t,this._index = r; } function s (e,t) { for (var n = 0,i = `_${t}`,s = i; r.call(e,s); s = i + n++) { if (o(e[s].key,t)) { return e[s]; } } }e.exports = n,n.prototype.forEach = function (e,t) { t = t || this,Object.keys(this._data).forEach((function (r) { "size" !== r && e.call(t,this._data[r].value,this._data[r].key); }),this); },n.prototype.has = function (e) { return Boolean(s(this._data,e)); },n.prototype.get = function (e) { var t = s(this._data,e); return t && t.value; },n.prototype.set = function (e,t) { !function (e,t,n) { for (var s = 0,a = `_${t}`,u = a; r.call(e,u); u = a + s++) { if (o(e[u].key,t)) { return void (e[u].value = n); } } e.size++,e[u] = new i(t,n,u); }(this._data,e,t); },n.prototype.delete = function (e) { var t = s(this._data,e); t && (delete this._data[t._index],this._data.size--); },n.prototype.clear = function () { var e = Object.create(null); e.size = 0,Object.defineProperty(this,"_data",{value: e,enumerable: !1,configurable: !0,writable: !1}); },Object.defineProperty(n.prototype,"size",{get: function () { return this._data.size; },set: function (e) {},enumerable: !0,configurable: !0}),n.prototype.values = n.prototype.keys = n.prototype.entries = function () { throw new Error("iterators are not implemented in this version"); }; },function (e,t) { function r (e) { var t = this; if (t instanceof r || (t = new r()),t.tail = null,t.head = null,t.length = 0,e && "function" === typeof e.forEach) { e.forEach((function (e) { t.push(e); })); } else if (arguments.length > 0) { for (var n = 0,o = arguments.length; n < o; n++) { t.push(arguments[n]); } } return t; } function n (e,t) { e.tail = new i(t,e.tail,null,e),e.head || (e.head = e.tail),e.length++; } function o (e,t) { e.head = new i(t,null,e.head,e),e.tail || (e.tail = e.head),e.length++; } function i (e,t,r,n) { if (!(this instanceof i)) { return new i(e,t,r,n); } this.list = n,this.value = e,t ? (t.next = this,this.prev = t) : this.prev = null,r ? (r.prev = this,this.next = r) : this.next = null; }e.exports = r,r.Node = i,r.create = r,r.prototype.removeNode = function (e) { if (e.list !== this) { throw new Error("removing node which does not belong to this list"); } var t = e.next,r = e.prev; t && (t.prev = r),r && (r.next = t),e === this.head && (this.head = t),e === this.tail && (this.tail = r),e.list.length--,e.next = null,e.prev = null,e.list = null; },r.prototype.unshiftNode = function (e) { if (e !== this.head) { e.list && e.list.removeNode(e); var t = this.head; e.list = this,e.next = t,t && (t.prev = e),this.head = e,this.tail || (this.tail = e),this.length++; } },r.prototype.pushNode = function (e) { if (e !== this.tail) { e.list && e.list.removeNode(e); var t = this.tail; e.list = this,e.prev = t,t && (t.next = e),this.tail = e,this.head || (this.head = e),this.length++; } },r.prototype.push = function () { for (var e = 0,t = arguments.length; e < t; e++) { n(this,arguments[e]); } return this.length; },r.prototype.unshift = function () { for (var e = 0,t = arguments.length; e < t; e++) { o(this,arguments[e]); } return this.length; },r.prototype.pop = function () { if (this.tail) { var e = this.tail.value; return this.tail = this.tail.prev,this.tail ? this.tail.next = null : this.head = null,this.length--,e; } },r.prototype.shift = function () { if (this.head) { var e = this.head.value; return this.head = this.head.next,this.head ? this.head.prev = null : this.tail = null,this.length--,e; } },r.prototype.forEach = function (e,t) { t = t || this; for (var r = this.head,n = 0; null !== r; n++) { e.call(t,r.value,n,this),r = r.next; } },r.prototype.forEachReverse = function (e,t) { t = t || this; for (var r = this.tail,n = this.length - 1; null !== r; n--) { e.call(t,r.value,n,this),r = r.prev; } },r.prototype.get = function (e) { for (var t = 0,r = this.head; null !== r && t < e; t++) { r = r.next; } if (t === e && null !== r) { return r.value; } },r.prototype.getReverse = function (e) { for (var t = 0,r = this.tail; null !== r && t < e; t++) { r = r.prev; } if (t === e && null !== r) { return r.value; } },r.prototype.map = function (e,t) { t = t || this; for (var n = new r(),o = this.head; null !== o;) { n.push(e.call(t,o.value,this)),o = o.next; } return n; },r.prototype.mapReverse = function (e,t) { t = t || this; for (var n = new r(),o = this.tail; null !== o;) { n.push(e.call(t,o.value,this)),o = o.prev; } return n; },r.prototype.reduce = function (e,t) { var r,n = this.head; if (arguments.length > 1) { r = t; } else { if (!this.head) { throw new TypeError("Reduce of empty list with no initial value"); } n = this.head.next,r = this.head.value; } for (var o = 0; null !== n; o++) { r = e(r,n.value,o),n = n.next; } return r; },r.prototype.reduceReverse = function (e,t) { var r,n = this.tail; if (arguments.length > 1) { r = t; } else { if (!this.tail) { throw new TypeError("Reduce of empty list with no initial value"); } n = this.tail.prev,r = this.tail.value; } for (var o = this.length - 1; null !== n; o--) { r = e(r,n.value,o),n = n.prev; } return r; },r.prototype.toArray = function () { for (var e = new Array(this.length),t = 0,r = this.head; null !== r; t++) { e[t] = r.value,r = r.next; } return e; },r.prototype.toArrayReverse = function () { for (var e = new Array(this.length),t = 0,r = this.tail; null !== r; t++) { e[t] = r.value,r = r.prev; } return e; },r.prototype.slice = function (e,t) { (t = t || this.length) < 0 && (t += this.length),(e = e || 0) < 0 && (e += this.length); var n = new r(); if (t < e || t < 0) { return n; } e < 0 && (e = 0),t > this.length && (t = this.length); for (var o = 0,i = this.head; null !== i && o < e; o++) { i = i.next; } for (;null !== i && o < t; o++,i = i.next) { n.push(i.value); } return n; },r.prototype.sliceReverse = function (e,t) { (t = t || this.length) < 0 && (t += this.length),(e = e || 0) < 0 && (e += this.length); var n = new r(); if (t < e || t < 0) { return n; } e < 0 && (e = 0),t > this.length && (t = this.length); for (var o = this.length,i = this.tail; null !== i && o > t; o--) { i = i.prev; } for (;null !== i && o > e; o--,i = i.prev) { n.push(i.value); } return n; },r.prototype.reverse = function () { for (var e = this.head,t = this.tail,r = e; null !== r; r = r.prev) { var n = r.prev; r.prev = r.next,r.next = n; } return this.head = t,this.tail = e,this; }; },function (e,t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () {},e.paths = [],e.children || (e.children = []),Object.defineProperty(e,"loaded",{enumerable: !0,get: function () { return e.l; }}),Object.defineProperty(e,"id",{enumerable: !0,get: function () { return e.i; }}),e.webpackPolyfill = 1),e; }; },function (e,t,r) { "use strict"; var n = this && this.__read || function (e,t) { var r = "function" === typeof Symbol && e[Symbol.iterator]; if (!r) { return e; } var n,o,i = r.call(e),s = []; try { for (;(void 0 === t || t-- > 0) && !(n = i.next()).done;) { s.push(n.value); } } catch (e) { o = {error: e}; } finally { try { n && !n.done && (r = i.return) && r.call(i); } finally { if (o) { throw o.error; } } } return s; },o = this && this.__spread || function () { for (var e = [],t = 0; t < arguments.length; t++) { e = e.concat(n(arguments[t])); } return e; },i = this && this.__importDefault || function (e) { return e && e.__esModule ? e : {default: e}; }; Object.defineProperty(t,"__esModule",{value: !0}); var s = i(r(32)),a = r(33),u = i(r(34)),c = r(35); t.syncMemoizer = function (e) { var t = new s.default(e),r = e.load,n = e.hash,i = e.bypass,f = e.itemMaxAge,l = e.freeze,p = e.clone,h = new a.EventEmitter(),d = Object.assign({del: function () { var e = n.apply(void 0,o(arguments)); t.del(e); },reset: function () { return t.reset(); },keys: t.keys.bind(t),on: h.on.bind(h),once: h.once.bind(h)},e); if (e.disable) { return Object.assign(r,d); } function v (e) { for (var t = [],r = 1; r < arguments.length; r++) { t[r - 1] = arguments[r]; }h.emit.apply(h,o([e],t)); } return Object.assign((function () { for (var e = [],s = 0; s < arguments.length; s++) { e[s] = arguments[s]; } if (i && i.apply(void 0,o(e))) { return v.apply(void 0,o(["miss"],e)),r.apply(void 0,o(e)); } var a = n.apply(void 0,o(e)),h = t.get(a); if (h) { return v.apply(void 0,o(["hit"],e)),h; } v.apply(void 0,o(["miss"],e)); var d = r.apply(void 0,o(e)); return l && c.deepFreeze(d),p && u.default(d),f ? t.set(a,d,f.apply(void 0,o(e.concat([d])))) : t.set(a,d),d; }),d); }; },function (e,t,r) { "use strict"; Object.defineProperty(t,"__esModule",{value: !0}),t.default = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : options,r = t.jwksRequestsPerMinute,s = void 0 === r ? 10 : r,a = (0,n.default)("jwks"),u = e.getSigningKey,c = new o.RateLimiter(s,"minute",!0); return a(`Configured rate limiting to JWKS endpoint at ${s}/minute`),function (e,t) { c.removeTokens(1,(function (r,n) { return r ? t(r) : (a("Requests to the JWKS endpoint available for the next minute:",n),n < 0 ? (a("Too many requests to the JWKS endpoint"),t(new i.default("Too many requests to the JWKS endpoint"))) : u(e,t)); })); }; }; var n = s(r(8)),o = r(95),i = s(r(37)); function s (e) { return e && e.__esModule ? e : {default: e}; } },function (e,t,r) { t.RateLimiter = r(96),t.TokenBucket = r(36); },function (e,t,r) { var n = r(36),o = r(97),i = function (e,t,r) { this.tokenBucket = new n(e,e,t,null),this.tokenBucket.content = e,this.curIntervalStart = o(),this.tokensThisInterval = 0,this.fireImmediately = r; }; i.prototype = {tokenBucket: null,curIntervalStart: 0,tokensThisInterval: 0,fireImmediately: !1,removeTokens: function (e,t) { if (e > this.tokenBucket.bucketSize) { return process.nextTick(t.bind(null,`Requested tokens ${e} exceeds maximum tokens per interval ${this.tokenBucket.bucketSize}`,null)),!1; } var r = this,n = o(); if ((n < this.curIntervalStart || n - this.curIntervalStart >= this.tokenBucket.interval) && (this.curIntervalStart = n,this.tokensThisInterval = 0),e > this.tokenBucket.tokensPerInterval - this.tokensThisInterval) { if (this.fireImmediately) { process.nextTick(t.bind(null,null,-1)); } else { var i = Math.ceil(this.curIntervalStart + this.tokenBucket.interval - n); setTimeout((function () { r.tokenBucket.removeTokens(e,s); }),i); } return !1; } return this.tokenBucket.removeTokens(e,s); function s (n,o) { if (n) { return t(n,null); } r.tokensThisInterval += e,t(null,o); } },tryRemoveTokens: function (e) { if (e > this.tokenBucket.bucketSize) { return !1; } var t = o(); if ((t < this.curIntervalStart || t - this.curIntervalStart >= this.tokenBucket.interval) && (this.curIntervalStart = t,this.tokensThisInterval = 0),e > this.tokenBucket.tokensPerInterval - this.tokensThisInterval) { return !1; } var r = this.tokenBucket.tryRemoveTokens(e); return r && (this.tokensThisInterval += e),r; },getTokensRemaining: function () { return this.tokenBucket.drip(),this.tokenBucket.content; }},e.exports = i; },function (e,t) { e.exports = function () { if ("undefined" !== typeof process && process.hrtime) { var e = process.hrtime(),t = e[0],r = e[1]; return 1e3 * t + Math.floor(r / 1e6); } return (new Date()).getTime(); }; },function (e,t,r) { "use strict"; function n (e) { Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name = "ArgumentError",this.message = e; }n.prototype = Object.create(Error.prototype),n.prototype.constructor = n,e.exports = n; },function (e,t,r) { "use strict"; var n = r(3),o = r(2),i = function (e,t) { return e && "SigningKeyNotFoundError" === e.name || e ? t(e,null,null) : void 0; }; e.exports.hapiJwt2KeyAsync = function (t) { var r = e.exports.hapiJwt2Key(t); return function (e) { return new Promise((function (t,n) { r(e,(function (e,r) { !r || e ? n(e) : t({key: r}); })); })); }; },e.exports.hapiJwt2Key = function (e) { if (null == e) { throw new n.ArgumentError("An options object must be provided when initializing hapiJwt2Key"); } var t = new o.JwksClient(e),r = e.handleSigningKeyError || i; return function (e,n) { return e && e.header ? "RS256" !== e.header.alg ? n(new Error(`Unsupported algorithm ${e.header.alg} supplied. node-jwks-rsa supports only RS256`),null,null) : void t.getSigningKey(e.header.kid,(function (e,t) { return e ? r(e,(function (e) { return n(e,null,null); })) : n(null,t.publicKey || t.rsaPublicKey,t); })) : n(new Error("Cannot find a signing certificate if there is no header"),null,null); }; }; },function (e,t,r) { "use strict"; var n = r(3),o = r(2),i = function (e,t) { return e && "SigningKeyNotFoundError" === e.name ? t(null) : e ? t(e) : void 0; }; e.exports.expressJwtSecret = function (e) { if (null == e) { throw new n.ArgumentError("An options object must be provided when initializing expressJwtSecret"); } var t = new o.JwksClient(e),r = e.handleSigningKeyError || i; return function (e,n,o,i) { if (!n || "RS256" !== n.alg) { return i(null,null); } t.getSigningKey(n.kid,(function (e,t) { return e ? r(e,(function (e) { return i(e,null); })) : i(null,t.publicKey || t.rsaPublicKey); })); }; }; },function (e,t,r) { "use strict"; var n = r(3),o = r(2); e.exports.koaJwtSecret = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (!e.jwksUri) { throw new n.ArgumentError("No JWKS URI provided"); } var t = new o.JwksClient(e); return function () { var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},n = r.alg,o = r.kid; return new Promise((function (r,i) { if ("RS256" !== n) { return i(new Error("Missing / invalid token algorithm")); } t.getSigningKey(o,(function (t,n) { if (t) { return e.handleSigningKeyError ? e.handleSigningKeyError(t).then(i) : i(t); } r(n.publicKey || n.rsaPublicKey); })); })); }; }; },function (e,t,r) { "use strict"; var n,o = r(103),i = (n = o) && n.__esModule ? n : {default: n},s = r(3),a = r(2); var u = function (e,t) { return e && "SigningKeyNotFoundError" === e.name ? t(null) : e ? t(e) : void 0; }; e.exports.passportJwtSecret = function (e) { if (null == e) { throw new s.ArgumentError("An options object must be provided when initializing passportJwtSecret"); } var t = new a.JwksClient(e),r = e.handleSigningKeyError || u; return function (e,n,o) { var s = i.default.decode(n,{complete: !0}); if (!s || !s.header || "RS256" !== s.header.alg) { return o(null,null); } t.getSigningKey(s.header.kid,(function (e,t) { return e ? r(e,(function (e) { return o(e,null); })) : o(null,t.publicKey || t.rsaPublicKey); })); }; }; },function (e,t,r) { e.exports = {decode: r(38),verify: r(108),sign: r(110),JsonWebTokenError: r(7),NotBeforeError: r(43),TokenExpiredError: r(44)}; },function (e,t,r) { var n = r(4).Buffer,o = r(39),i = r(40),s = r(5),a = r(42),u = r(1); function c (e,t) { return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"); } function f (e) { var t = e.header,r = e.payload,n = e.secret || e.privateKey,o = e.encoding,s = i(t.alg),f = function (e,t,r) { r = r || "utf8"; var n = c(a(e),"binary"),o = c(a(t),r); return u.format("%s.%s",n,o); }(t,r,o),l = s.sign(f,n); return u.format("%s.%s",f,l); } function l (e) { var t = e.secret || e.privateKey || e.key,r = new o(t); this.readable = !0,this.header = e.header,this.encoding = e.encoding,this.secret = this.privateKey = this.key = r,this.payload = new o(e.payload),this.secret.once("close",function () { !this.payload.writable && this.readable && this.sign(); }.bind(this)),this.payload.once("close",function () { !this.secret.writable && this.readable && this.sign(); }.bind(this)); }u.inherits(l,s),l.prototype.sign = function () { try { var e = f({header: this.header,payload: this.payload.buffer,secret: this.secret.buffer,encoding: this.encoding}); return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable = !1,e; } catch (e) { this.readable = !1,this.emit("error",e),this.emit("close"); } },l.sign = f,e.exports = l; },function (e,t,r) { "use strict"; var n = r(6).Buffer,o = r(6).SlowBuffer; function i (e,t) { if (!n.isBuffer(e) || !n.isBuffer(t)) { return !1; } if (e.length !== t.length) { return !1; } for (var r = 0,o = 0; o < e.length; o++) { r |= e[o] ^ t[o]; } return 0 === r; }e.exports = i,i.install = function () { n.prototype.equal = o.prototype.equal = function (e) { return i(this,e); }; }; var s = n.prototype.equal,a = o.prototype.equal; i.restore = function () { n.prototype.equal = s,o.prototype.equal = a; }; },function (e,t,r) { "use strict"; function n (e) { return (e / 8 | 0) + (e % 8 == 0 ? 0 : 1); } var o = {ES256: n(256),ES384: n(384),ES512: n(521)}; e.exports = function (e) { var t = o[e]; if (t) { return t; } throw new Error(`Unknown algorithm "${e}"`); }; },function (e,t,r) { var n = r(4).Buffer,o = r(39),i = r(40),s = r(5),a = r(42),u = r(1),c = /^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/; function f (e) { if (function (e) { return "[object Object]" === Object.prototype.toString.call(e); }(e)) { return e; } try { return JSON.parse(e); } catch (e) { return; } } function l (e) { var t = e.split(".",1)[0]; return f(n.from(t,"base64").toString("binary")); } function p (e) { return e.split(".")[2]; } function h (e) { return c.test(e) && Boolean(l(e)); } function d (e,t,r) { if (!t) { var n = new Error("Missing algorithm parameter for jws.verify"); throw n.code = "MISSING_ALGORITHM",n; } var o = p(e = a(e)),s = function (e) { return e.split(".",2).join("."); }(e); return i(t).verify(s,o,r); } function v (e,t) { if (t = t || {},!h(e = a(e))) { return null; } var r = l(e); if (!r) { return null; } var o = function (e,t) { t = t || "utf8"; var r = e.split(".")[1]; return n.from(r,"base64").toString(t); }(e); return ("JWT" === r.typ || t.json) && (o = JSON.parse(o,t.encoding)),{header: r,payload: o,signature: p(e)}; } function g (e) { var t = (e = e || {}).secret || e.publicKey || e.key,r = new o(t); this.readable = !0,this.algorithm = e.algorithm,this.encoding = e.encoding,this.secret = this.publicKey = this.key = r,this.signature = new o(e.signature),this.secret.once("close",function () { !this.signature.writable && this.readable && this.verify(); }.bind(this)),this.signature.once("close",function () { !this.secret.writable && this.readable && this.verify(); }.bind(this)); }u.inherits(g,s),g.prototype.verify = function () { try { var e = d(this.signature.buffer,this.algorithm,this.key.buffer),t = v(this.signature.buffer,this.encoding); return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable = !1,e; } catch (e) { this.readable = !1,this.emit("error",e),this.emit("close"); } },g.decode = v,g.isValid = h,g.verify = d,e.exports = g; },function (e,t,r) { var n = r(7),o = r(43),i = r(44),s = r(38),a = r(45),u = r(46),c = r(15),f = ["RS256","RS384","RS512","ES256","ES384","ES512"],l = ["RS256","RS384","RS512"],p = ["HS256","HS384","HS512"]; u && (f.splice(3,0,"PS256","PS384","PS512"),l.splice(3,0,"PS256","PS384","PS512")),e.exports = function (e,t,r,u) { var h; if ("function" !== typeof r || u || (u = r,r = {}),r || (r = {}),r = Object.assign({},r),h = u || function (e,t) { if (e) { throw e; } return t; },r.clockTimestamp && "number" !== typeof r.clockTimestamp) { return h(new n("clockTimestamp must be a number")); } if (void 0 !== r.nonce && ("string" !== typeof r.nonce || "" === r.nonce.trim())) { return h(new n("nonce must be a non-empty string")); } var d = r.clockTimestamp || Math.floor(Date.now() / 1e3); if (!e) { return h(new n("jwt must be provided")); } if ("string" !== typeof e) { return h(new n("jwt must be a string")); } var v,g = e.split("."); if (3 !== g.length) { return h(new n("jwt malformed")); } try { v = s(e,{complete: !0}); } catch (e) { return h(e); } if (!v) { return h(new n("invalid token")); } var y,m = v.header; if ("function" === typeof t) { if (!u) { return h(new n("verify must be called asynchronous if secret or public key is provided as a callback")); } y = t; } else { y = function (e,r) { return r(null,t); }; } return y(m,(function (t,s) { if (t) { return h(new n(`error in secret or public key callback: ${t.message}`)); } var u,y = "" !== g[2].trim(); if (!y && s) { return h(new n("jwt signature is required")); } if (y && !s) { return h(new n("secret or public key must be provided")); } if (y || r.algorithms || (r.algorithms = ["none"]),r.algorithms || (r.algorithms = ~s.toString().indexOf("BEGIN CERTIFICATE") || ~s.toString().indexOf("BEGIN PUBLIC KEY") ? f : ~s.toString().indexOf("BEGIN RSA PUBLIC KEY") ? l : p),!~r.algorithms.indexOf(v.header.alg)) { return h(new n("invalid algorithm")); } try { u = c.verify(e,v.header.alg,s); } catch (e) { return h(e); } if (!u) { return h(new n("invalid signature")); } var b = v.payload; if (void 0 !== b.nbf && !r.ignoreNotBefore) { if ("number" !== typeof b.nbf) { return h(new n("invalid nbf value")); } if (b.nbf > d + (r.clockTolerance || 0)) { return h(new o("jwt not active",new Date(1e3 * b.nbf))); } } if (void 0 !== b.exp && !r.ignoreExpiration) { if ("number" !== typeof b.exp) { return h(new n("invalid exp value")); } if (d >= b.exp + (r.clockTolerance || 0)) { return h(new i("jwt expired",new Date(1e3 * b.exp))); } } if (r.audience) { var w = Array.isArray(r.audience) ? r.audience : [r.audience]; if (!(Array.isArray(b.aud) ? b.aud : [b.aud]).some((function (e) { return w.some((function (t) { return t instanceof RegExp ? t.test(e) : t === e; })); }))) { return h(new n(`jwt audience invalid. expected: ${w.join(" or ")}`)); } } if (r.issuer && ("string" === typeof r.issuer && b.iss !== r.issuer || Array.isArray(r.issuer) && -1 === r.issuer.indexOf(b.iss))) { return h(new n(`jwt issuer invalid. expected: ${r.issuer}`)); } if (r.subject && b.sub !== r.subject) { return h(new n(`jwt subject invalid. expected: ${r.subject}`)); } if (r.jwtid && b.jti !== r.jwtid) { return h(new n(`jwt jwtid invalid. expected: ${r.jwtid}`)); } if (r.nonce && b.nonce !== r.nonce) { return h(new n(`jwt nonce invalid. expected: ${r.nonce}`)); } if (r.maxAge) { if ("number" !== typeof b.iat) { return h(new n("iat required when maxAge is specified")); } var x = a(r.maxAge,b.iat); if (void 0 === x) { return h(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')); } if (d >= x + (r.clockTolerance || 0)) { return h(new i("maxAge exceeded",new Date(1e3 * x))); } } if (!0 === r.complete) { var S = v.signature; return h(null,{header: m,payload: b,signature: S}); } return h(null,b); })); }; },function (e,t) { var r; t = e.exports = G,r = "object" === typeof process && process.env && process.env.NODE_DEBUG && /\bsemver\b/i.test(process.env.NODE_DEBUG) ? function () { var e = Array.prototype.slice.call(arguments,0); e.unshift("SEMVER"),console.log.apply(console,e); } : function () {},t.SEMVER_SPEC_VERSION = "2.0.0"; var n = Number.MAX_SAFE_INTEGER || 9007199254740991,o = t.re = [],i = t.src = [],s = 0,a = s++; i[a] = "0|[1-9]\\d*"; var u = s++; i[u] = "[0-9]+"; var c = s++; i[c] = "\\d*[a-zA-Z-][a-zA-Z0-9-]*"; var f = s++; i[f] = `(${i[a]})\\.(${i[a]})\\.(${i[a]})`; var l = s++; i[l] = `(${i[u]})\\.(${i[u]})\\.(${i[u]})`; var p = s++; i[p] = `(?:${i[a]}|${i[c]})`; var h = s++; i[h] = `(?:${i[u]}|${i[c]})`; var d = s++; i[d] = `(?:-(${i[p]}(?:\\.${i[p]})*))`; var v = s++; i[v] = `(?:-?(${i[h]}(?:\\.${i[h]})*))`; var g = s++; i[g] = "[0-9A-Za-z-]+"; var y = s++; i[y] = `(?:\\+(${i[g]}(?:\\.${i[g]})*))`; var m = s++,b = `v?${i[f]}${i[d]}?${i[y]}?`; i[m] = `^${b}$`; var w = `[v=\\s]*${i[l]}${i[v]}?${i[y]}?`,x = s++; i[x] = `^${w}$`; var S = s++; i[S] = "((?:<|>)?=?)"; var E = s++; i[E] = `${i[u]}|x|X|\\*`; var C = s++; i[C] = `${i[a]}|x|X|\\*`; var j = s++; i[j] = `[v=\\s]*(${i[C]})(?:\\.(${i[C]})(?:\\.(${i[C]})(?:${i[d]})?${i[y]}?)?)?`; var _ = s++; i[_] = `[v=\\s]*(${i[E]})(?:\\.(${i[E]})(?:\\.(${i[E]})(?:${i[v]})?${i[y]}?)?)?`; var k = s++; i[k] = `^${i[S]}\\s*${i[j]}$`; var A = s++; i[A] = `^${i[S]}\\s*${i[_]}$`; var O = s++; i[O] = "(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])"; var R = s++; i[R] = "(?:~>?)"; var T = s++; i[T] = `(\\s*)${i[R]}\\s+`,o[T] = new RegExp(i[T],"g"); var F = s++; i[F] = `^${i[R]}${i[j]}$`; var P = s++; i[P] = `^${i[R]}${i[_]}$`; var I = s++; i[I] = "(?:\\^)"; var N = s++; i[N] = `(\\s*)${i[I]}\\s+`,o[N] = new RegExp(i[N],"g"); var B = s++; i[B] = `^${i[I]}${i[j]}$`; var L = s++; i[L] = `^${i[I]}${i[_]}$`; var M = s++; i[M] = `^${i[S]}\\s*(${w})$|^$`; var K = s++; i[K] = `^${i[S]}\\s*(${b})$|^$`; var U = s++; i[U] = `(\\s*)${i[S]}\\s*(${w}|${i[j]})`,o[U] = new RegExp(i[U],"g"); var D = s++; i[D] = `^\\s*(${i[j]})\\s+-\\s+(${i[j]})\\s*$`; var q = s++; i[q] = `^\\s*(${i[_]})\\s+-\\s+(${i[_]})\\s*$`; var J = s++; i[J] = "(<|>)?=?\\s*\\*"; for (var z = 0; z < 35; z++) { r(z,i[z]),o[z] || (o[z] = new RegExp(i[z])); } function H (e,t) { if (t && "object" === typeof t || (t = {loose: Boolean(t),includePrerelease: !1}),e instanceof G) { return e; } if ("string" !== typeof e) { return null; } if (e.length > 256) { return null; } if (!(t.loose ? o[x] : o[m]).test(e)) { return null; } try { return new G(e,t); } catch (e) { return null; } } function G (e,t) { if (t && "object" === typeof t || (t = {loose: Boolean(t),includePrerelease: !1}),e instanceof G) { if (e.loose === t.loose) { return e; } e = e.version; } else if ("string" !== typeof e) { throw new TypeError(`Invalid Version: ${e}`); } if (e.length > 256) { throw new TypeError("version is longer than 256 characters"); } if (!(this instanceof G)) { return new G(e,t); } r("SemVer",e,t),this.options = t,this.loose = Boolean(t.loose); var i = e.trim().match(t.loose ? o[x] : o[m]); if (!i) { throw new TypeError(`Invalid Version: ${e}`); } if (this.raw = e,this.major = Number(i[1]),this.minor = Number(i[2]),this.patch = Number(i[3]),this.major > n || this.major < 0) { throw new TypeError("Invalid major version"); } if (this.minor > n || this.minor < 0) { throw new TypeError("Invalid minor version"); } if (this.patch > n || this.patch < 0) { throw new TypeError("Invalid patch version"); } i[4] ? this.prerelease = i[4].split(".").map((function (e) { if (/^[0-9]+$/.test(e)) { var t = Number(e); if (t >= 0 && t < n) { return t; } } return e; })) : this.prerelease = [],this.build = i[5] ? i[5].split(".") : [],this.format(); }t.parse = H,t.valid = function (e,t) { var r = H(e,t); return r ? r.version : null; },t.clean = function (e,t) { var r = H(e.trim().replace(/^[=v]+/,""),t); return r ? r.version : null; },t.SemVer = G,G.prototype.format = function () { return this.version = `${this.major}.${this.minor}.${this.patch}`,this.prerelease.length && (this.version += `-${this.prerelease.join(".")}`),this.version; },G.prototype.toString = function () { return this.version; },G.prototype.compare = function (e) { return r("SemVer.compare",this.version,this.options,e),e instanceof G || (e = new G(e,this.options)),this.compareMain(e) || this.comparePre(e); },G.prototype.compareMain = function (e) { return e instanceof G || (e = new G(e,this.options)),V(this.major,e.major) || V(this.minor,e.minor) || V(this.patch,e.patch); },G.prototype.comparePre = function (e) { if (e instanceof G || (e = new G(e,this.options)),this.prerelease.length && !e.prerelease.length) { return -1; } if (!this.prerelease.length && e.prerelease.length) { return 1; } if (!this.prerelease.length && !e.prerelease.length) { return 0; } var t = 0; do { var n = this.prerelease[t],o = e.prerelease[t]; if (r("prerelease compare",t,n,o),void 0 === n && void 0 === o) { return 0; } if (void 0 === o) { return 1; } if (void 0 === n) { return -1; } if (n !== o) { return V(n,o); } } while (++t); },G.prototype.inc = function (e,t) { switch (e) { case "premajor":this.prerelease.length = 0,this.patch = 0,this.minor = 0,this.major++,this.inc("pre",t); break; case "preminor":this.prerelease.length = 0,this.patch = 0,this.minor++,this.inc("pre",t); break; case "prepatch":this.prerelease.length = 0,this.inc("patch",t),this.inc("pre",t); break; case "prerelease":0 === this.prerelease.length && this.inc("patch",t),this.inc("pre",t); break; case "major":0 === this.minor && 0 === this.patch && 0 !== this.prerelease.length || this.major++,this.minor = 0,this.patch = 0,this.prerelease = []; break; case "minor":0 === this.patch && 0 !== this.prerelease.length || this.minor++,this.patch = 0,this.prerelease = []; break; case "patch":0 === this.prerelease.length && this.patch++,this.prerelease = []; break; case "pre":if (0 === this.prerelease.length) { this.prerelease = [0]; } else { for (var r = this.prerelease.length; --r >= 0;) { "number" === typeof this.prerelease[r] && (this.prerelease[r]++,r = -2); }-1 === r && this.prerelease.push(0); }t && (this.prerelease[0] === t ? isNaN(this.prerelease[1]) && (this.prerelease = [t,0]) : this.prerelease = [t,0]); break; default:throw new Error(`invalid increment argument: ${e}`); } return this.format(),this.raw = this.version,this; },t.inc = function (e,t,r,n) { "string" === typeof r && (n = r,r = void 0); try { return new G(e,r).inc(t,n).version; } catch (e) { return null; } },t.diff = function (e,t) { if (Z(e,t)) { return null; } var r = H(e),n = H(t),o = ""; if (r.prerelease.length || n.prerelease.length) { o = "pre"; var i = "prerelease"; } for (var s in r) { if (("major" === s || "minor" === s || "patch" === s) && r[s] !== n[s]) { return o + s; } } return i; },t.compareIdentifiers = V; var $ = /^[0-9]+$/; function V (e,t) { var r = $.test(e),n = $.test(t); return r && n && (e = Number(e),t = Number(t)),e === t ? 0 : r && !n ? -1 : n && !r ? 1 : e < t ? -1 : 1; } function W (e,t,r) { return new G(e,r).compare(new G(t,r)); } function Y (e,t,r) { return W(e,t,r) > 0; } function X (e,t,r) { return W(e,t,r) < 0; } function Z (e,t,r) { return 0 === W(e,t,r); } function Q (e,t,r) { return 0 !== W(e,t,r); } function ee (e,t,r) { return W(e,t,r) >= 0; } function te (e,t,r) { return W(e,t,r) <= 0; } function re (e,t,r,n) { switch (t) { case "===":return "object" === typeof e && (e = e.version),"object" === typeof r && (r = r.version),e === r; case "!==":return "object" === typeof e && (e = e.version),"object" === typeof r && (r = r.version),e !== r; case "":case "=":case "==":return Z(e,r,n); case "!=":return Q(e,r,n); case ">":return Y(e,r,n); case ">=":return ee(e,r,n); case "<":return X(e,r,n); case "<=":return te(e,r,n); default:throw new TypeError(`Invalid operator: ${t}`); } } function ne (e,t) { if (t && "object" === typeof t || (t = {loose: Boolean(t),includePrerelease: !1}),e instanceof ne) { if (e.loose === Boolean(t.loose)) { return e; } e = e.value; } if (!(this instanceof ne)) { return new ne(e,t); } r("comparator",e,t),this.options = t,this.loose = Boolean(t.loose),this.parse(e),this.semver === oe ? this.value = "" : this.value = this.operator + this.semver.version,r("comp",this); }t.rcompareIdentifiers = function (e,t) { return V(t,e); },t.major = function (e,t) { return new G(e,t).major; },t.minor = function (e,t) { return new G(e,t).minor; },t.patch = function (e,t) { return new G(e,t).patch; },t.compare = W,t.compareLoose = function (e,t) { return W(e,t,!0); },t.rcompare = function (e,t,r) { return W(t,e,r); },t.sort = function (e,r) { return e.sort((function (e,n) { return t.compare(e,n,r); })); },t.rsort = function (e,r) { return e.sort((function (e,n) { return t.rcompare(e,n,r); })); },t.gt = Y,t.lt = X,t.eq = Z,t.neq = Q,t.gte = ee,t.lte = te,t.cmp = re,t.Comparator = ne; var oe = {}; function ie (e,t) { if (t && "object" === typeof t || (t = {loose: Boolean(t),includePrerelease: !1}),e instanceof ie) { return e.loose === Boolean(t.loose) && e.includePrerelease === Boolean(t.includePrerelease) ? e : new ie(e.raw,t); } if (e instanceof ne) { return new ie(e.value,t); } if (!(this instanceof ie)) { return new ie(e,t); } if (this.options = t,this.loose = Boolean(t.loose),this.includePrerelease = Boolean(t.includePrerelease),this.raw = e,this.set = e.split(/\s*\|\|\s*/).map((function (e) { return this.parseRange(e.trim()); }),this).filter((function (e) { return e.length; })),!this.set.length) { throw new TypeError(`Invalid SemVer Range: ${e}`); } this.format(); } function se (e) { return !e || "x" === e.toLowerCase() || "*" === e; } function ae (e,t,r,n,o,i,s,a,u,c,f,l,p) { return (`${t = se(r) ? "" : se(n) ? `>=${r}.0.0` : se(o) ? `>=${r}.${n}.0` : `>=${t}`} ${a = se(u) ? "" : se(c) ? `<${Number(u) + 1}.0.0` : se(f) ? `<${u}.${Number(c) + 1}.0` : l ? `<=${u}.${c}.${f}-${l}` : `<=${a}`}`).trim(); } function ue (e,t,n) { for (var o = 0; o < e.length; o++) { if (!e[o].test(t)) { return !1; } } if (t.prerelease.length && !n.includePrerelease) { for (o = 0; o < e.length; o++) { if (r(e[o].semver),e[o].semver !== oe && e[o].semver.prerelease.length > 0) { var i = e[o].semver; if (i.major === t.major && i.minor === t.minor && i.patch === t.patch) { return !0; } } } return !1; } return !0; } function ce (e,t,r) { try { t = new ie(t,r); } catch (e) { return !1; } return t.test(e); } function fe (e,t,r,n) { var o,i,s,a,u; switch (e = new G(e,n),t = new ie(t,n),r) { case ">":o = Y,i = te,s = X,a = ">",u = ">="; break; case "<":o = X,i = ee,s = Y,a = "<",u = "<="; break; default:throw new TypeError('Must provide a hilo val of "<" or ">"'); } if (ce(e,t,n)) { return !1; } for (var c = 0; c < t.set.length; ++c) { var f = t.set[c],l = null,p = null; if (f.forEach((function (e) { e.semver === oe && (e = new ne(">=0.0.0")),l = l || e,p = p || e,o(e.semver,l.semver,n) ? l = e : s(e.semver,p.semver,n) && (p = e); })),l.operator === a || l.operator === u) { return !1; } if ((!p.operator || p.operator === a) && i(e,p.semver)) { return !1; } if (p.operator === u && s(e,p.semver)) { return !1; } } return !0; }ne.prototype.parse = function (e) { var t = this.options.loose ? o[M] : o[K],r = e.match(t); if (!r) { throw new TypeError(`Invalid comparator: ${e}`); } this.operator = r[1],"=" === this.operator && (this.operator = ""),r[2] ? this.semver = new G(r[2],this.options.loose) : this.semver = oe; },ne.prototype.toString = function () { return this.value; },ne.prototype.test = function (e) { return r("Comparator.test",e,this.options.loose),this.semver === oe || ("string" === typeof e && (e = new G(e,this.options)),re(e,this.operator,this.semver,this.options)); },ne.prototype.intersects = function (e,t) { if (!(e instanceof ne)) { throw new TypeError("a Comparator is required"); } var r; if (t && "object" === typeof t || (t = {loose: Boolean(t),includePrerelease: !1}),"" === this.operator) { return r = new ie(e.value,t),ce(this.value,r,t); } if ("" === e.operator) { return r = new ie(this.value,t),ce(e.semver,r,t); } var n = !(">=" !== this.operator && ">" !== this.operator || ">=" !== e.operator && ">" !== e.operator),o = !("<=" !== this.operator && "<" !== this.operator || "<=" !== e.operator && "<" !== e.operator),i = this.semver.version === e.semver.version,s = !(">=" !== this.operator && "<=" !== this.operator || ">=" !== e.operator && "<=" !== e.operator),a = re(this.semver,"<",e.semver,t) && (">=" === this.operator || ">" === this.operator) && ("<=" === e.operator || "<" === e.operator),u = re(this.semver,">",e.semver,t) && ("<=" === this.operator || "<" === this.operator) && (">=" === e.operator || ">" === e.operator); return n || o || i && s || a || u; },t.Range = ie,ie.prototype.format = function () { return this.range = this.set.map((function (e) { return e.join(" ").trim(); })).join("||").trim(),this.range; },ie.prototype.toString = function () { return this.range; },ie.prototype.parseRange = function (e) { var t = this.options.loose; e = e.trim(); var n = t ? o[q] : o[D]; e = e.replace(n,ae),r("hyphen replace",e),e = e.replace(o[U],"$1$2$3"),r("comparator trim",e,o[U]),e = (e = (e = e.replace(o[T],"$1~")).replace(o[N],"$1^")).split(/\s+/).join(" "); var i = t ? o[M] : o[K],s = e.split(" ").map((function (e) { return function (e,t) { return r("comp",e,t),e = function (e,t) { return e.trim().split(/\s+/).map((function (e) { return function (e,t) { r("caret",e,t); var n = t.loose ? o[L] : o[B]; return e.replace(n,(function (t,n,o,i,s) { var a; return r("caret",e,t,n,o,i,s),se(n) ? a = "" : se(o) ? a = `>=${n}.0.0 <${Number(n) + 1}.0.0` : se(i) ? a = "0" === n ? `>=${n}.${o}.0 <${n}.${Number(o) + 1}.0` : `>=${n}.${o}.0 <${Number(n) + 1}.0.0` : s ? (r("replaceCaret pr",s),a = "0" === n ? "0" === o ? `>=${n}.${o}.${i}-${s} <${n}.${o}.${Number(i) + 1}` : `>=${n}.${o}.${i}-${s} <${n}.${Number(o) + 1}.0` : `>=${n}.${o}.${i}-${s} <${Number(n) + 1}.0.0`) : (r("no pr"),a = "0" === n ? "0" === o ? `>=${n}.${o}.${i} <${n}.${o}.${Number(i) + 1}` : `>=${n}.${o}.${i} <${n}.${Number(o) + 1}.0` : `>=${n}.${o}.${i} <${Number(n) + 1}.0.0`),r("caret return",a),a; })); }(e,t); })).join(" "); }(e,t),r("caret",e),e = function (e,t) { return e.trim().split(/\s+/).map((function (e) { return function (e,t) { var n = t.loose ? o[P] : o[F]; return e.replace(n,(function (t,n,o,i,s) { var a; return r("tilde",e,t,n,o,i,s),se(n) ? a = "" : se(o) ? a = `>=${n}.0.0 <${Number(n) + 1}.0.0` : se(i) ? a = `>=${n}.${o}.0 <${n}.${Number(o) + 1}.0` : s ? (r("replaceTilde pr",s),a = `>=${n}.${o}.${i}-${s} <${n}.${Number(o) + 1}.0`) : a = `>=${n}.${o}.${i} <${n}.${Number(o) + 1}.0`,r("tilde return",a),a; })); }(e,t); })).join(" "); }(e,t),r("tildes",e),e = function (e,t) { return r("replaceXRanges",e,t),e.split(/\s+/).map((function (e) { return function (e,t) { e = e.trim(); var n = t.loose ? o[A] : o[k]; return e.replace(n,(function (t,n,o,i,s,a) { r("xRange",e,t,n,o,i,s,a); var u = se(o),c = u || se(i),f = c || se(s); return "=" === n && f && (n = ""),u ? t = ">" === n || "<" === n ? "<0.0.0" : "*" : n && f ? (c && (i = 0),s = 0,">" === n ? (n = ">=",c ? (o = Number(o) + 1,i = 0,s = 0) : (i = Number(i) + 1,s = 0)) : "<=" === n && (n = "<",c ? o = Number(o) + 1 : i = Number(i) + 1),t = `${n + o}.${i}.${s}`) : c ? t = `>=${o}.0.0 <${Number(o) + 1}.0.0` : f && (t = `>=${o}.${i}.0 <${o}.${Number(i) + 1}.0`),r("xRange return",t),t; })); }(e,t); })).join(" "); }(e,t),r("xrange",e),e = function (e,t) { return r("replaceStars",e,t),e.trim().replace(o[J],""); }(e,t),r("stars",e),e; }(e,this.options); }),this).join(" ").split(/\s+/); return this.options.loose && (s = s.filter((function (e) { return Boolean(e.match(i)); }))),s = s.map((function (e) { return new ne(e,this.options); }),this); },ie.prototype.intersects = function (e,t) { if (!(e instanceof ie)) { throw new TypeError("a Range is required"); } return this.set.some((function (r) { return r.every((function (r) { return e.set.some((function (e) { return e.every((function (e) { return r.intersects(e,t); })); })); })); })); },t.toComparators = function (e,t) { return new ie(e,t).set.map((function (e) { return e.map((function (e) { return e.value; })).join(" ").trim().split(" "); })); },ie.prototype.test = function (e) { if (!e) { return !1; } "string" === typeof e && (e = new G(e,this.options)); for (var t = 0; t < this.set.length; t++) { if (ue(this.set[t],e,this.options)) { return !0; } } return !1; },t.satisfies = ce,t.maxSatisfying = function (e,t,r) { var n = null,o = null; try { var i = new ie(t,r); } catch (e) { return null; } return e.forEach((function (e) { i.test(e) && (n && -1 !== o.compare(e) || (o = new G(n = e,r))); })),n; },t.minSatisfying = function (e,t,r) { var n = null,o = null; try { var i = new ie(t,r); } catch (e) { return null; } return e.forEach((function (e) { i.test(e) && (n && 1 !== o.compare(e) || (o = new G(n = e,r))); })),n; },t.minVersion = function (e,t) { e = new ie(e,t); var r = new G("0.0.0"); if (e.test(r)) { return r; } if (r = new G("0.0.0-0"),e.test(r)) { return r; } r = null; for (var n = 0; n < e.set.length; ++n) { e.set[n].forEach((function (e) { var t = new G(e.semver.version); switch (e.operator) { case ">":0 === t.prerelease.length ? t.patch++ : t.prerelease.push(0),t.raw = t.format(); case "":case ">=":r && !Y(r,t) || (r = t); break; case "<":case "<=":break; default:throw new Error(`Unexpected operation: ${e.operator}`); } })); } if (r && e.test(r)) { return r; } return null; },t.validRange = function (e,t) { try { return new ie(e,t).range || "*"; } catch (e) { return null; } },t.ltr = function (e,t,r) { return fe(e,t,"<",r); },t.gtr = function (e,t,r) { return fe(e,t,">",r); },t.outside = fe,t.prerelease = function (e,t) { var r = H(e,t); return r && r.prerelease.length ? r.prerelease : null; },t.intersects = function (e,t,r) { return e = new ie(e,r),t = new ie(t,r),e.intersects(t); },t.coerce = function (e) { if (e instanceof G) { return e; } if ("string" !== typeof e) { return null; } var t = e.match(o[O]); if (null == t) { return null; } return H(`${t[1]}.${t[2] || "0"}.${t[3] || "0"}`); }; },function (e,t,r) { var n = r(45),o = r(46),i = r(15),s = r(111),a = r(112),u = r(113),c = r(114),f = r(115),l = r(116),p = r(117),h = ["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"]; o && h.splice(3,0,"PS256","PS384","PS512"); var d = {expiresIn: {isValid: function (e) { return u(e) || l(e) && e; },message: '"expiresIn" should be a number of seconds or string representing a timespan'},notBefore: {isValid: function (e) { return u(e) || l(e) && e; },message: '"notBefore" should be a number of seconds or string representing a timespan'},audience: {isValid: function (e) { return l(e) || Array.isArray(e); },message: '"audience" must be a string or array'},algorithm: {isValid: s.bind(null,h),message: '"algorithm" must be a valid string enum value'},header: {isValid: f,message: '"header" must be an object'},encoding: {isValid: l,message: '"encoding" must be a string'},issuer: {isValid: l,message: '"issuer" must be a string'},subject: {isValid: l,message: '"subject" must be a string'},jwtid: {isValid: l,message: '"jwtid" must be a string'},noTimestamp: {isValid: a,message: '"noTimestamp" must be a boolean'},keyid: {isValid: l,message: '"keyid" must be a string'},mutatePayload: {isValid: a,message: '"mutatePayload" must be a boolean'}},v = {iat: {isValid: c,message: '"iat" should be a number of seconds'},exp: {isValid: c,message: '"exp" should be a number of seconds'},nbf: {isValid: c,message: '"nbf" should be a number of seconds'}}; function g (e,t,r,n) { if (!f(r)) { throw new Error(`Expected "${n}" to be a plain object.`); } Object.keys(r).forEach((function (o) { var i = e[o]; if (i) { if (!i.isValid(r[o])) { throw new Error(i.message); } } else if (!t) { throw new Error(`"${o}" is not allowed in "${n}"`); } })); } var y = {audience: "aud",issuer: "iss",subject: "sub",jwtid: "jti"},m = ["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"]; e.exports = function (e,t,r,o) { "function" === typeof r ? (o = r,r = {}) : r = r || {}; var s = "object" === typeof e && !Buffer.isBuffer(e),a = Object.assign({alg: r.algorithm || "HS256",typ: s ? "JWT" : void 0,kid: r.keyid},r.header); function u (e) { if (o) { return o(e); } throw e; } if (!t && "none" !== r.algorithm) { return u(new Error("secretOrPrivateKey must have a value")); } if (void 0 === e) { return u(new Error("payload is required")); } if (s) { try { !function (e) { g(v,!0,e,"payload"); }(e); } catch (e) { return u(e); }r.mutatePayload || (e = Object.assign({},e)); } else { var c = m.filter((function (e) { return void 0 !== r[e]; })); if (c.length > 0) { return u(new Error(`invalid ${c.join(",")} option for ${typeof e} payload`)); } } if (void 0 !== e.exp && void 0 !== r.expiresIn) { return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.')); } if (void 0 !== e.nbf && void 0 !== r.notBefore) { return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.')); } try { !function (e) { g(d,!1,e,"options"); }(r); } catch (e) { return u(e); } var f = e.iat || Math.floor(Date.now() / 1e3); if (r.noTimestamp ? delete e.iat : s && (e.iat = f),void 0 !== r.notBefore) { try { e.nbf = n(r.notBefore,f); } catch (e) { return u(e); } if (void 0 === e.nbf) { return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')); } } if (void 0 !== r.expiresIn && "object" === typeof e) { try { e.exp = n(r.expiresIn,f); } catch (e) { return u(e); } if (void 0 === e.exp) { return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')); } }Object.keys(y).forEach((function (t) { var n = y[t]; if (void 0 !== r[t]) { if (void 0 !== e[n]) { return u(new Error(`Bad "options.${t}" option. The payload already has an "${n}" property.`)); } e[n] = r[t]; } })); var l = r.encoding || "utf8"; if ("function" !== typeof o) { return i.sign({header: a,payload: e,secret: t,encoding: l}); } o = o && p(o),i.createSign({header: a,privateKey: t,payload: e,encoding: l}).once("error",o).once("done",(function (e) { o(null,e); })); }; },function (e,t) { var r = /^\s+|\s+$/g,n = /^[-+]0x[0-9a-f]+$/i,o = /^0b[01]+$/i,i = /^0o[0-7]+$/i,s = /^(?:0|[1-9]\d*)$/,a = parseInt; function u (e) { return e != e; } function c (e,t) { return function (e,t) { for (var r = -1,n = e ? e.length : 0,o = Array(n); ++r < n;) { o[r] = t(e[r],r,e); } return o; }(t,(function (t) { return e[t]; })); } var f,l,p = Object.prototype,h = p.hasOwnProperty,d = p.toString,v = p.propertyIsEnumerable,g = (f = Object.keys,l = Object,function (e) { return f(l(e)); }),y = Math.max; function m (e,t) { var r = x(e) || function (e) { return function (e) { return C(e) && S(e); }(e) && h.call(e,"callee") && (!v.call(e,"callee") || "[object Arguments]" == d.call(e)); }(e) ? function (e,t) { for (var r = -1,n = Array(e); ++r < e;) { n[r] = t(r); } return n; }(e.length,String) : [],n = r.length,o = Boolean(n); for (var i in e) { !t && !h.call(e,i) || o && ("length" == i || w(i,n)) || r.push(i); } return r; } function b (e) { if (r = (t = e) && t.constructor,n = "function" === typeof r && r.prototype || p,t !== n) { return g(e); } var t,r,n,o = []; for (var i in Object(e)) { h.call(e,i) && "constructor" != i && o.push(i); } return o; } function w (e,t) { return Boolean(t = null == t ? 9007199254740991 : t) && ("number" === typeof e || s.test(e)) && e > -1 && e % 1 == 0 && e < t; } var x = Array.isArray; function S (e) { return null != e && function (e) { return "number" === typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991; }(e.length) && !function (e) { var t = E(e) ? d.call(e) : ""; return "[object Function]" == t || "[object GeneratorFunction]" == t; }(e); } function E (e) { var t = typeof e; return Boolean(e) && ("object" == t || "function" == t); } function C (e) { return Boolean(e) && "object" === typeof e; }e.exports = function (e,t,s,f) { var l; e = S(e) ? e : (l = e) ? c(l,function (e) { return S(e) ? m(e) : b(e); }(l)) : [],s = s && !f ? function (e) { var t = function (e) { if (!e) { return 0 === e ? e : 0; } if ((e = function (e) { if ("number" === typeof e) { return e; } if (function (e) { return "symbol" === typeof e || C(e) && "[object Symbol]" == d.call(e); }(e)) { return NaN; } if (E(e)) { var t = "function" === typeof e.valueOf ? e.valueOf() : e; e = E(t) ? `${t}` : t; } if ("string" !== typeof e) { return 0 === e ? e : Number(e); } e = e.replace(r,""); var s = o.test(e); return s || i.test(e) ? a(e.slice(2),s ? 2 : 8) : n.test(e) ? NaN : Number(e); }(e)) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1); } return e == e ? e : 0; }(e),s = t % 1; return t == t ? s ? t - s : t : 0; }(s) : 0; var p = e.length; return s < 0 && (s = y(p + s,0)),function (e) { return "string" === typeof e || !x(e) && C(e) && "[object String]" == d.call(e); }(e) ? s <= p && e.indexOf(t,s) > -1 : Boolean(p) && function (e,t,r) { if (t != t) { return function (e,t,r,n) { for (var o = e.length,i = r + (n ? 1 : -1); n ? i-- : ++i < o;) { if (t(e[i],i,e)) { return i; } } return -1; }(e,u,r); } for (var n = r - 1,o = e.length; ++n < o;) { if (e[n] === t) { return n; } } return -1; }(e,t,s) > -1; }; },function (e,t) { var r = Object.prototype.toString; e.exports = function (e) { return !0 === e || !1 === e || function (e) { return Boolean(e) && "object" === typeof e; }(e) && "[object Boolean]" == r.call(e); }; },function (e,t) { var r = /^\s+|\s+$/g,n = /^[-+]0x[0-9a-f]+$/i,o = /^0b[01]+$/i,i = /^0o[0-7]+$/i,s = parseInt,a = Object.prototype.toString; function u (e) { var t = typeof e; return Boolean(e) && ("object" == t || "function" == t); }e.exports = function (e) { return "number" === typeof e && e == function (e) { var t = function (e) { if (!e) { return 0 === e ? e : 0; } if ((e = function (e) { if ("number" === typeof e) { return e; } if (function (e) { return "symbol" === typeof e || function (e) { return Boolean(e) && "object" === typeof e; }(e) && "[object Symbol]" == a.call(e); }(e)) { return NaN; } if (u(e)) { var t = "function" === typeof e.valueOf ? e.valueOf() : e; e = u(t) ? `${t}` : t; } if ("string" !== typeof e) { return 0 === e ? e : Number(e); } e = e.replace(r,""); var c = o.test(e); return c || i.test(e) ? s(e.slice(2),c ? 2 : 8) : n.test(e) ? NaN : Number(e); }(e)) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1); } return e == e ? e : 0; }(e),c = t % 1; return t == t ? c ? t - c : t : 0; }(e); }; },function (e,t) { var r = Object.prototype.toString; e.exports = function (e) { return "number" === typeof e || function (e) { return Boolean(e) && "object" === typeof e; }(e) && "[object Number]" == r.call(e); }; },function (e,t) { var r,n,o = Function.prototype,i = Object.prototype,s = o.toString,a = i.hasOwnProperty,u = s.call(Object),c = i.toString,f = (r = Object.getPrototypeOf,n = Object,function (e) { return r(n(e)); }); e.exports = function (e) { if (!function (e) { return Boolean(e) && "object" === typeof e; }(e) || "[object Object]" != c.call(e) || function (e) { var t = !1; if (null != e && "function" !== typeof e.toString) { try { t = Boolean(`${e}`); } catch (e) {} } return t; }(e)) { return !1; } var t = f(e); if (null === t) { return !0; } var r = a.call(t,"constructor") && t.constructor; return "function" === typeof r && r instanceof r && s.call(r) == u; }; },function (e,t) { var r = Object.prototype.toString,n = Array.isArray; e.exports = function (e) { return "string" === typeof e || !n(e) && function (e) { return Boolean(e) && "object" === typeof e; }(e) && "[object String]" == r.call(e); }; },function (e,t) { var r = /^\s+|\s+$/g,n = /^[-+]0x[0-9a-f]+$/i,o = /^0b[01]+$/i,i = /^0o[0-7]+$/i,s = parseInt,a = Object.prototype.toString; function u (e,t) { var u; if ("function" !== typeof t) { throw new TypeError("Expected a function"); } return e = function (e) { var t = function (e) { if (!e) { return 0 === e ? e : 0; } if ((e = function (e) { if ("number" === typeof e) { return e; } if (function (e) { return "symbol" === typeof e || function (e) { return Boolean(e) && "object" === typeof e; }(e) && "[object Symbol]" == a.call(e); }(e)) { return NaN; } if (c(e)) { var t = "function" === typeof e.valueOf ? e.valueOf() : e; e = c(t) ? `${t}` : t; } if ("string" !== typeof e) { return 0 === e ? e : Number(e); } e = e.replace(r,""); var u = o.test(e); return u || i.test(e) ? s(e.slice(2),u ? 2 : 8) : n.test(e) ? NaN : Number(e); }(e)) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1); } return e == e ? e : 0; }(e),u = t % 1; return t == t ? u ? t - u : t : 0; }(e),function () { return --e > 0 && (u = t.apply(this,arguments)),e <= 1 && (t = void 0),u; }; } function c (e) { var t = typeof e; return Boolean(e) && ("object" == t || "function" == t); }e.exports = function (e) { return u(2,e); }; },function (e,t,r) { "use strict"; var n = r(1),o = r(119),i = r(16),s = r(41),a = r(122),u = {HS256: "SHA256",HS384: "SHA384",HS512: "SHA512",RS256: "RSA-SHA256",RS384: "RSA-SHA384",RS512: "RSA-SHA512",ES256: "RSA-SHA256",ES384: "RSA-SHA384",ES512: "RSA-SHA512",none: "none"},c = {HS256: "hmac",HS384: "hmac",HS512: "hmac",RS256: "sign",RS384: "sign",RS512: "sign",ES256: "sign",ES384: "sign",ES512: "sign"}; function f (e) { return 0 === e.indexOf("ES"); } function l () { return Math.floor((new Date()).getTime() / 1e3); } function p (e) { const t = "number" === typeof e ? e.toString() : e; return Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""); } function h (e) { return (e += new Array(5 - e.length % 4).join("=")).replace(/\-/g,"+").replace(/_/g,"/"); } function d (e) { return Boolean(u[e]); } function v (e,t,r) { if ("function" === typeof e) { return process.nextTick((function () { e(t,r); })); } if (t) { throw t; } return r; } function g (e,t) { return t(null,this.signingKey); } function y (e) { this.name = "JwtError",this.message = this.userMessage = e; } function m (e,t,r,n,o) { this.name = "JwtParseError",this.message = this.userMessage = e,this.jwtString = t,this.parsedHeader = r,this.parsedBody = n,this.innerError = o; } function b (e) { if (!(this instanceof b)) { return new b(e); } var t = this; return e && Object.keys(e).forEach((function (r) { t[r] = e[r]; })),this; } function w (e) { if (!(this instanceof w)) { return new w(e); } var t = this; return this.typ = e && e.typ || "JWT",this.alg = e && e.alg || "HS256",e ? Object.keys(e).reduce((function (r,n) { return -1 === t.reservedKeys.indexOf(n) && e.hasOwnProperty(n) && (r[n] = e[n]),r; }),this) : this; } function x (e,t) { return this instanceof x ? (this.header = new w(),this.body = new b(e),!1 !== t && (this.setSigningAlgorithm("none"),this.body.jti || this.setJti(o.v4()),this.body.iat || this.setIssuedAt(l())),this) : new x(e,t); } function S (e) { return this; } function E () { return this instanceof E ? (this.setSigningAlgorithm("HS256"),this.setKeyResolver(g.bind(this)),this) : new E(); }n.inherits(y,Error),n.inherits(m,Error),b.prototype.toJSON = function () { var e = this; return Object.keys(e).reduce((function (t,r) { return t[r] = e[r],t; }),{}); },b.prototype.compact = function () { return p(JSON.stringify(this)); },w.prototype.reservedKeys = ["typ","alg"],w.prototype.compact = function () { return p(JSON.stringify(this)); },x.prototype.setClaim = function (e,t) { return this.body[e] = t,this; },x.prototype.setHeader = function (e,t) { return this.header[e] = t,this; },x.prototype.setJti = function (e) { return this.body.jti = e,this; },x.prototype.setSubject = function (e) { return this.body.sub = e,this; },x.prototype.setIssuer = function (e) { return this.body.iss = e,this; },x.prototype.setIssuedAt = function (e) { return this.body.iat = e,this; },x.prototype.setExpiration = function (e) { return e ? this.body.exp = Math.floor((e instanceof Date ? e : new Date(e)).getTime() / 1e3) : delete this.body.exp,this; },x.prototype.setNotBefore = function (e) { return e ? this.body.nbf = Math.floor((e instanceof Date ? e : new Date(e)).getTime() / 1e3) : delete this.body.nbf,this; },x.prototype.setSigningKey = function (e) { return this.signingKey = e,this; },x.prototype.setSigningAlgorithm = function (e) { if (!this.isSupportedAlg(e)) { throw new y(a.errors.UNSUPPORTED_SIGNING_ALG); } return this.header.alg = e,this; },x.prototype.sign = function (e,t,r) { var n,o = u[t],l = c[t]; if (!o) { throw new y(a.errors.UNSUPPORTED_SIGNING_ALG); } return n = "hmac" === l ? i.createHmac(o,r).update(e).digest() : i.createSign(o).update(e).sign(r),f(t) ? s.derToJose(n,t) : p(n); },x.prototype.isSupportedAlg = d,x.prototype.compact = function () { var e = []; if (e.push(this.header.compact()),e.push(this.body.compact()),"none" !== this.header.alg) { if (!this.signingKey) { throw new Error(a.errors.SIGNING_KEY_REQUIRED); } this.signature = this.sign(e.join("."),this.header.alg,this.signingKey),e.push(this.signature); } return e.join("."); },x.prototype.toString = function () { return this.compact(); },x.prototype.isExpired = function () { return new Date(1e3 * this.body.exp) < new Date(); },x.prototype.isNotBefore = function () { return new Date(1e3 * this.body.nbf) >= new Date(); },S.prototype.isSupportedAlg = d,S.prototype.safeJsonParse = function (e) { var t; try { t = JSON.parse(Buffer.from(h(e),"base64")); } catch (e) { return e; } return t; },S.prototype.parse = function (e,t) { var r,n = v.bind(null,t),o = e.split("."); if (o.length < 2 || o.length > 3) { return n(new m(a.errors.PARSE_ERROR,e,null,null)); } var i = this.safeJsonParse(o[0]),s = this.safeJsonParse(o[1]); if (o[2] && (r = Buffer.from(h(o[2]),"base64").toString("base64")),i instanceof Error) { return n(new m(a.errors.PARSE_ERROR,e,null,null,i)); } if (s instanceof Error) { return n(new m(a.errors.PARSE_ERROR,e,i,null,s)); } var u = new x(s,!1); return u.setSigningAlgorithm(i.alg),u.signature = r,u.verificationInput = `${o[0]}.${o[1]}`,u.header = new w(i),n(null,u); },E.prototype.setSigningAlgorithm = function (e) { if (!this.isSupportedAlg(e)) { throw new y(a.errors.UNSUPPORTED_SIGNING_ALG); } return this.signingAlgorithm = e,this; },E.prototype.setSigningKey = function (e) { return this.signingKey = e,this; },E.prototype.setKeyResolver = function (e) { this.keyResolver = e.bind(this); },E.prototype.isSupportedAlg = d,E.prototype.verify = function (e,t) { var r,o = v.bind(null,t); try { r = (new S()).parse(e); } catch (e) { return o(e); } var l = r.body,p = r.header,d = r.signature,g = u[p.alg],y = c[p.alg]; if (p.alg !== this.signingAlgorithm) { return o(new m(a.errors.SIGNATURE_ALGORITHM_MISMTACH,e,p,l)); } if (r.isExpired()) { return o(new m(a.errors.EXPIRED,e,p,l)); } if (r.isNotBefore()) { return o(new m(a.errors.NOT_ACTIVE,e,p,l)); } var b,E,C = r.verificationInput; return this.keyResolver(p.kid,(function (t,r) { if (t) { return o(new m(n.format(a.errors.KEY_RESOLVER_ERROR,p.kid),e,p,l,t)); } if ("none" === g) { b = !0; } else if ("hmac" === y) { E = i.createHmac(g,r).update(C).digest("base64"),b = d === E; } else { var u,c = void 0; if (f(p.alg)) { try { u = s.joseToDer(d,p.alg); } catch (t) { return o(new m(a.errors.SIGNATURE_MISMTACH,e,p,l,t)); } } else { c = "base64",u = h(d); }b = i.createVerify(g).update(C).verify(r,u,c); } var v = new x(l,!1); return v.toString = function () { return e; },v.header = new w(p),b ? o(null,v) : o(new m(a.errors.SIGNATURE_MISMTACH,e,p,l)); })); },E.prototype.withKeyResolver = function (e) { return this.keyResolver = e,this; }; var C = {Jwt: x,JwtBody: b,JwtHeader: w,Verifier: E,base64urlEncode: p,base64urlUnescape: h,verify: function () { var e = Array.prototype.slice.call(arguments),t = "function" === typeof e[e.length - 1] ? e.pop() : null,r = new E(); return 3 === e.length && (r.setSigningAlgorithm(e[2]),r.setSigningKey(e[1])),2 === e.length && r.setSigningKey(e[1]),1 === e.length && r.setSigningAlgorithm("none"),r.verify(e[0],t); },createVerifier: function () { return new E(); },create: function (e,t,r) { var n,o = Array.prototype.slice.call(arguments); if (o.length >= 2 ? n = new x(e) : 1 === o.length && "string" === typeof e ? (n = new x({}),t = e) : n = new x(e),"none" !== r && !t) { throw new Error(a.errors.SIGNING_KEY_REQUIRED); } return n.setSigningAlgorithm(3 === o.length ? r : "HS256"),n.setSigningKey(t),n.setExpiration(1e3 * (l() + 3600)),n; }}; e.exports = C; },function (e,t,r) { var n = r(120),o = r(121),i = o; i.v1 = n,i.v4 = o,e.exports = i; },function (e,t,r) { var n,o,i = r(47),s = r(48),a = 0,u = 0; e.exports = function (e,t,r) { var c = t && r || 0,f = t || [],l = (e = e || {}).node || n,p = void 0 !== e.clockseq ? e.clockseq : o; if (null == l || null == p) { var h = i(); null == l && (l = n = [1 | h[0],h[1],h[2],h[3],h[4],h[5]]),null == p && (p = o = 16383 & (h[6] << 8 | h[7])); } var d = void 0 !== e.msecs ? e.msecs : (new Date()).getTime(),v = void 0 !== e.nsecs ? e.nsecs : u + 1,g = d - a + (v - u) / 1e4; if (g < 0 && void 0 === e.clockseq && (p = p + 1 & 16383),(g < 0 || d > a) && void 0 === e.nsecs && (v = 0),v >= 1e4) { throw new Error("uuid.v1(): Can't create more than 10M uuids/sec"); } a = d,u = v,o = p; var y = (1e4 * (268435455 & (d += 122192928e5)) + v) % 4294967296; f[c++] = y >>> 24 & 255,f[c++] = y >>> 16 & 255,f[c++] = y >>> 8 & 255,f[c++] = 255 & y; var m = d / 4294967296 * 1e4 & 268435455; f[c++] = m >>> 8 & 255,f[c++] = 255 & m,f[c++] = m >>> 24 & 15 | 16,f[c++] = m >>> 16 & 255,f[c++] = p >>> 8 | 128,f[c++] = 255 & p; for (var b = 0; b < 6; ++b) { f[c + b] = l[b]; } return t || s(f); }; },function (e,t,r) { var n = r(47),o = r(48); e.exports = function (e,t,r) { var i = t && r || 0; "string" === typeof e && (t = "binary" === e ? new Array(16) : null,e = null); var s = (e = e || {}).random || (e.rng || n)(); if (s[6] = 15 & s[6] | 64,s[8] = 63 & s[8] | 128,t) { for (var a = 0; a < 16; ++a) { t[i + a] = s[a]; } } return t || o(s); }; },function (e) { e.exports = JSON.parse('{"errors":{"PARSE_ERROR":"Jwt cannot be parsed","EXPIRED":"Jwt is expired","UNSUPPORTED_SIGNING_ALG":"Unsupported signing algorithm","SIGNING_KEY_REQUIRED":"Signing key is required","SIGNATURE_MISMTACH":"Signature verification failed","SIGNATURE_ALGORITHM_MISMTACH":"Unexpected signature algorithm","NOT_ACTIVE":"Jwt not active","KEY_RESOLVER_ERROR":"Error while resolving signing key for kid \\"%s\\""}}'); }]); }));
// # sourceMappingURL=nodejs-sdk-jwtVerifier.min.js.map
